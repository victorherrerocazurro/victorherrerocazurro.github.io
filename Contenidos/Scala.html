<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<meta name="author" content="Victor Herrero Cazurro">
<title>Scala</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:block;vertical-align:middle;margin-left: auto;margin-right: auto;}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-right">
<div id="header">
<h1>Scala</h1>
<div class="details">
<span id="author" class="author">Victor Herrero Cazurro</span><br>
<span id="email" class="email">&lt;<a href="mailto:vherrero@pronoide.es">vherrero@pronoide.es</a>[Victor Herrero Cazurro]&gt;</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Contenidos</div>
<ul class="sectlevel1">
<li><a href="#_introduccion">Introduccion</a>
<ul class="sectlevel2">
<li><a href="#_algunas_caracteristicas">Algunas caracteristicas</a></li>
<li><a href="#_beneficios">Beneficios</a></li>
<li><a href="#_documentacion">Documentacion</a></li>
<li><a href="#_compilación">Compilación</a></li>
</ul>
</li>
<li><a href="#_scala_y_java">Scala y Java</a>
<ul class="sectlevel2">
<li><a href="#_identificadores">Identificadores</a></li>
<li><a href="#_palabras_reservadas">Palabras Reservadas</a></li>
</ul>
</li>
<li><a href="#_instalacion">Instalacion</a></li>
<li><a href="#_primer_programa">Primer programa</a></li>
<li><a href="#_clases">Clases</a>
<ul class="sectlevel2">
<li><a href="#_constructor_primario">Constructor Primario</a></li>
<li><a href="#_constructores_auxiliares">Constructores Auxiliares</a></li>
<li><a href="#_invocacion_del_contructor_del_padre">Invocacion del contructor del Padre</a></li>
<li><a href="#_parametros_por_defecto">Parametros por defecto</a></li>
<li><a href="#_campos">Campos</a></li>
<li><a href="#_sobreescritura_de_get_accesor_y_set_mutator">Sobreescritura de Get (Accesor) y Set (Mutator)</a></li>
<li><a href="#_inicializacion_de_campos_con_bloques_de_codigo">Inicializacion de Campos con Bloques de Codigo</a></li>
<li><a href="#_equals_y_hashcode">Equals y HashCode</a></li>
<li><a href="#_clases_internas">Clases Internas</a></li>
<li><a href="#_objeto_class">Objeto Class</a></li>
</ul>
</li>
<li><a href="#_objetos">Objetos</a>
<ul class="sectlevel2">
<li><a href="#_objeto_compañia">Objeto Compañia</a></li>
<li><a href="#_patrón_singleton">Patrón Singleton</a></li>
<li><a href="#_clase_de_un_objeto">Clase de un Objeto</a></li>
</ul>
</li>
<li><a href="#_tipos">Tipos</a>
<ul class="sectlevel2">
<li><a href="#_tipos_basicos">Tipos Basicos</a></li>
<li><a href="#_literales">Literales</a></li>
<li><a href="#_tipo_option">Tipo Option</a></li>
</ul>
</li>
<li><a href="#_variables">Variables</a></li>
<li><a href="#_variables_inmutables_de_solo_lectura">Variables inmutables de solo lectura</a></li>
<li><a href="#_ambitos">Ambitos</a></li>
<li><a href="#_modificadores_de_acceso">Modificadores de Acceso</a>
<ul class="sectlevel2">
<li><a href="#_private">Private</a></li>
<li><a href="#_protected">Protected</a></li>
<li><a href="#_modificacion_del_ambito_de_la_visibilidad">Modificacion del ambito de la visibilidad</a></li>
</ul>
</li>
<li><a href="#_sentencias_de_control">Sentencias de Control</a>
<ul class="sectlevel2">
<li><a href="#_if_else">If-Else</a></li>
<li><a href="#_try_catch_finally">Try-Catch-Finally</a></li>
<li><a href="#_for">For</a>
<ul class="sectlevel3">
<li><a href="#_contadores">Contadores</a></li>
<li><a href="#_rangos">Rangos</a></li>
<li><a href="#_guards">Guards</a></li>
</ul>
</li>
<li><a href="#_for_yield">For/yield</a></li>
<li><a href="#_break_continue">Break/Continue</a></li>
<li><a href="#_switch">Switch</a></li>
<li><a href="#_do_while">Do while</a></li>
<li><a href="#_while">While</a></li>
</ul>
</li>
<li><a href="#_funciones">Funciones</a>
<ul class="sectlevel2">
<li><a href="#_funcion_anonima">Funcion anonima</a></li>
<li><a href="#_parametros_por_defecto_2">Parametros por defecto</a></li>
<li><a href="#_paso_de_parametros_por_nombre">Paso de parametros por nombre</a></li>
<li><a href="#_numero_indeterminado_de_patametros">Numero indeterminado de patametros</a></li>
<li><a href="#_invocacion_parcial_fp">Invocacion Parcial (FP)</a></li>
<li><a href="#_estilo_fluido_de_programación">Estilo Fluido de programación</a></li>
<li><a href="#_funciones_de_orden_superior_fp">Funciones de Orden superior (FP)</a></li>
<li><a href="#_retorno_de_una_funcion">Retorno de una funcion</a></li>
<li><a href="#_funcion_predicado">Funcion Predicado</a></li>
</ul>
</li>
<li><a href="#_closures_fp">Closures (FP)</a></li>
<li><a href="#_herencia">Herencia</a>
<ul class="sectlevel2">
<li><a href="#_herencia_de_campos">Herencia de campos</a></li>
<li><a href="#_sobreescritura">Sobreescritura</a></li>
</ul>
</li>
<li><a href="#_traits_fp">Traits (FP)</a>
<ul class="sectlevel2">
<li><a href="#_herencia_2">Herencia</a></li>
<li><a href="#_atributos">Atributos</a></li>
<li><a href="#_mixins">Mixins</a></li>
</ul>
</li>
<li><a href="#_clases_abstractas">Clases Abstractas</a>
<ul class="sectlevel2">
<li><a href="#_campos_abstractos">Campos Abstractos</a></li>
<li><a href="#_métodos_abstractos">Métodos Abstractos</a></li>
</ul>
</li>
<li><a href="#_paquetes">Paquetes</a>
<ul class="sectlevel2">
<li><a href="#_objetos_paquete">Objetos Paquete</a></li>
</ul>
</li>
<li><a href="#_imports">Imports</a></li>
<li><a href="#_sbt">SBT</a>
<ul class="sectlevel2">
<li><a href="#_comandos">Comandos</a></li>
<li><a href="#_key">Key</a>
<ul class="sectlevel3">
<li><a href="#_keys_predefenidas">Keys predefenidas</a></li>
<li><a href="#_custom_key">Custom Key</a></li>
</ul>
</li>
<li><a href="#_plugins">Plugins</a></li>
<li><a href="#_dependencias">Dependencias</a></li>
<li><a href="#_ambitos_2">Ambitos</a></li>
</ul>
</li>
<li><a href="#_testing">Testing</a>
<ul class="sectlevel2">
<li><a href="#_funsuite">FunSuite</a></li>
<li><a href="#_flatspec">FlatSpec</a></li>
<li><a href="#_funspec">FunSpec</a></li>
<li><a href="#_wordspec">WordSpec</a></li>
<li><a href="#_freespec">FreeSpec</a></li>
<li><a href="#_matchers">Matchers</a></li>
<li><a href="#_ejecucion">Ejecucion</a></li>
</ul>
</li>
<li><a href="#_clases_case_fp">Clases Case (FP)</a>
<ul class="sectlevel2">
<li><a href="#_constructores_auxiliares_2">Constructores Auxiliares</a></li>
<li><a href="#_sentencias_case_condicionales_guards">Sentencias Case condicionales (Guards)</a></li>
</ul>
</li>
<li><a href="#_colecciones">Colecciones</a>
<ul class="sectlevel2">
<li><a href="#_secuencias_seq">Secuencias (Seq)</a>
<ul class="sectlevel3">
<li><a href="#_indexedseq">IndexedSeq</a></li>
<li><a href="#_linearseq">LinearSeq</a></li>
</ul>
</li>
<li><a href="#_mapas">Mapas</a></li>
<li><a href="#_sets">Sets</a></li>
<li><a href="#_procesamiento_paralelo">Procesamiento Paralelo</a></li>
<li><a href="#_métodos">Métodos</a></li>
<li><a href="#_operaciones_mutables_sobre_colecciones_inmutables">Operaciones mutables sobre colecciones inmutables</a></li>
<li><a href="#_iterators">Iterators</a></li>
<li><a href="#_arrays">Arrays</a>
<ul class="sectlevel3">
<li><a href="#_arrays_multidimensionales">Arrays Multidimensionales</a></li>
</ul>
</li>
<li><a href="#_listas">Listas</a></li>
<li><a href="#_tupla">Tupla</a></li>
</ul>
</li>
<li><a href="#_futuros">Futuros</a></li>
<li><a href="#_actores">Actores</a>
<ul class="sectlevel2">
<li><a href="#_respuestas">Respuestas</a></li>
</ul>
</li>
<li><a href="#_tipos_parametricos_generics">Tipos Parametricos (Generics)</a>
<ul class="sectlevel2">
<li><a href="#_covarianza_contravarianza">Covarianza/Contravarianza</a></li>
</ul>
</li>
<li><a href="#_conversiones">Conversiones</a></li>
<li><a href="#_implicitos">Implicitos</a>
<ul class="sectlevel2">
<li><a href="#_valores_implicitos">Valores Implicitos</a></li>
<li><a href="#_métodos_implicitos">Métodos Implicitos</a></li>
<li><a href="#_clases_implicitas">Clases Implicitas</a></li>
</ul>
</li>
<li><a href="#_string">String</a>
<ul class="sectlevel2">
<li><a href="#_interpolacion">Interpolacion</a></li>
</ul>
</li>
<li><a href="#_extractores">Extractores</a></li>
<li><a href="#_resumen_programacion_funcional">Resumen Programacion Funcional</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduccion">Introduccion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Scala es un lenguaje de programacion</p>
</div>
<div class="ulist">
<ul>
<li>
<p>moderno creado por <strong>Martin Odersky</strong>, influenciado por Java, Ruby, Smalltalk, ML, Haskell, Erlang y otros.</p>
</li>
<li>
<p>orientado a objetos puro, donde toda variable apunta a un objeto, no existen primitivos y todas las operaciones son métodos.</p>
</li>
<li>
<p>funcional, donde las funciones son referenciables por variables y se pueden pasar por parametros.</p>
</li>
<li>
<p>que corre en la JVM, por lo que se puede emplear todas las librerias que esta incluye.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_algunas_caracteristicas">Algunas caracteristicas</h3>
<div class="ulist">
<ul>
<li>
<p>No se necesita terminar las sentencias con <strong>;</strong>, solo se empleará cuando haya que seperar sentencias en la misma linea, dado que el salto de linea es tambien identificar de fin de sentencia.</p>
</li>
<li>
<p>Se puede prescindir de las llaves <strong>{}</strong> en bloques de codigo mono-sentencia.</p>
</li>
<li>
<p>En la ejecución de funciones se puede prescindir de los () si solo se pasa un parametro y el método no está sobrecargado.</p>
</li>
<li>
<p>Se puede prescindir del operador <strong>.</strong> para acceder a los miembros de una instancia.</p>
</li>
<li>
<p>Es <strong>Case Sensitivity</strong>, los identificadores <strong>Hello</strong> y <strong>hello</strong> son diferentes.</p>
</li>
<li>
<p>Por convenio el nombre de las clases debe empezar en mayusculas y si es compuesto, cada una de las palabras que lo forme, tambien debe empezar en mayusculas.</p>
</li>
<li>
<p>Por convenio el nombre de los métodos debe empezar en minúsculas y si es compuesto, cada una de las siguientes palabras que lo forme, tambien debe empezar en mayúsculas.</p>
</li>
<li>
<p>No tiene porque existir una <strong>Class</strong> u <strong>Object</strong> definido dentro de un fichero con el mismo nombre del fichero.</p>
</li>
<li>
<p>El resultado de la ejecución de un método, será el resultado de la ejecución de la última sentencia, no se emplea <strong>return</strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_beneficios">Beneficios</h3>
<div class="ulist">
<ul>
<li>
<p>Legible (siempre que se conozca la sintaxis)</p>
</li>
<li>
<p>Conciso (no verboso)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Veamos un ejemplo donde se puede observar la diferencia entre Scala y Java, se trata de un algortimo que partiendo de un listado de numeros, obtiene un nuevo listado formado por el subconjunto de elementos que cumplen la condición de ser menores que 4.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val nums = List(1,2,3,4,5).filter(_ &lt; 4)

//Donde nums sera un List[Int] = List(1, 2, 3)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Integer</span><span class="type">[]</span> intArray = {<span class="integer">1</span>,<span class="integer">2</span>,<span class="integer">3</span>,<span class="integer">4</span>,<span class="integer">5</span>};
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Integer</span>&gt; nums = <span class="predefined-type">Arrays</span>.asList(intArray);
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Integer</span>&gt; filteredNums = <span class="keyword">new</span> <span class="predefined-type">LinkedList</span>&lt;<span class="predefined-type">Integer</span>&gt;();
<span class="keyword">for</span> (<span class="type">int</span> n: nums) {
        <span class="keyword">if</span> (n &lt; <span class="integer">4</span>) filteredNums.add(n);
}

<span class="comment">//Donde filteredNums será un LinkedList&lt;Integer&gt; = {1, 2, 3}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentacion">Documentacion</h3>
<div class="paragraph">
<p>La referencia del API se puede consultar <a href="http://www.scala-lang.org/api/current/">aquí</a>, así como una amplia bibliografía <a href="https://www.scala-lang.org/documentation/books.html">aquí</a></p>
</div>
<div class="paragraph">
<p>Algunas páginas donde ejecutar codigo Scala online, como <a href="https://scalafiddle.io/sf/gKgxQY0/1">scalafiddle</a>, <a href="http://www.scalakata.com/">scalakata</a> o <a href="http://scastie.org/">scastie</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_compilación">Compilación</h3>
<div class="paragraph">
<p>Con el SDK, se proporciona el compilador <strong>scalac</strong>, cuyo funcionamiento es similar al compilador de java.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="console">scalac HelloWorld.scala</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_scala_y_java">Scala y Java</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Scala es 100% compatible con el codigo java, cualquier clase java puede ser referenciada desde Scala.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">import java.util.Date

object FrenchDate {
        def main(args: Array[String]) {
                val now = new Date
        }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Todas las clases del paquete <strong>java.lang</strong> son importadas de forma directa.</p>
</div>
<div class="paragraph">
<p>Se pueden heredar clases e implementar interfaces java en Scala.</p>
</div>
<div class="sect2">
<h3 id="_identificadores">Identificadores</h3>
<div class="paragraph">
<p>Los identificadores validos, deben empezar por una letra o por <strong>_</strong>, posteriormente pueden aparecer tambien numeros.</p>
</div>
<div class="paragraph">
<p>No podran empezar por numero, <strong>-</strong> o <strong>$</strong></p>
</div>
<div class="paragraph">
<p>Los identificadores validos para los operadores estan compuestos por la sucesion de: <strong>+, :, ?, ~ o #</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">+
++
:::
&lt;?&gt;
:&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se pueden crear identificadores compuestos por identificadores alfabeticos y operadores.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">unary_+
myvar_=</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tambien se pueden definir identificadores literales, encerrando un <strong>String</strong> entre acentos <strong>`</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">`x`
`&lt;clinit&gt;`
`yield`</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_palabras_reservadas">Palabras Reservadas</h3>
<div class="imageblock">
<div class="content">
<img src="images/Scala_palabras_reservadas.png" alt="Scala palabras reservadas">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_instalacion">Instalacion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Descargar el SDK de <a href="https://www.scala-lang.org/download/">aquí</a> y el IDE de <a href="http://scala-ide.org/download/sdk.html">aquí</a></p>
</div>
<div class="paragraph">
<p>Será necesario tener instalado la jdk 8 de java, que se puede descargar de [aquí]</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_primer_programa">Primer programa</h2>
<div class="sectionbody">
<div class="paragraph">
<p>De forma analoga a <strong>Java</strong>, en <strong>Scala</strong> el punto de entrada de ejecución es un método <strong>main</strong>, en este caso no de una clase, sino de un <strong>Object</strong> (<strong>Singleton</strong>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">object Programa {
  def main(args: Array[String]): Unit = {

  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Esto se explica dado que el <strong>main</strong> de Java es estatico, pero en Scala no existen los método estaticos, solo existen los metodos únicos asociados a un <strong>Singleton</strong>.</p>
</div>
<div class="paragraph">
<p>Otra alternativa a la definición del método <strong>main</strong>, es extender el <strong>object</strong> que representa la aplicación de la clase <strong>App</strong>, definiendo como miembros de la clase las sentencias a ejecutar.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">object OtroPrograma extends App{
  println(&quot;Hola mundo desde una App!!!!&quot;)
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_clases">Clases</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Una <strong>clase</strong> en escala, es al igual que en otros lenguajes una plantilla para la creación de objetos.</p>
</div>
<div class="paragraph">
<p>La definición de <strong>clases</strong> en Scala es muy similar a java, se emplea la palabra reservada <strong>class</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Persona {
        //Miembros de la clase
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_constructor_primario">Constructor Primario</h3>
<div class="paragraph">
<p>El constructor primario es la combinacion de los parametros de construcción y las llamadas a métodos y ejecuciones de expresiones y sentencias en el cuerpo de la clase, por tanto al no definirse como tal, no se puede aplicar <strong>sobrecarga</strong> al constructor.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Persona(nombre: String, edad: Int) {
        println(&quot;Construyendo la Persona&quot;)
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_constructores_auxiliares">Constructores Auxiliares</h3>
<div class="paragraph">
<p>Se definen como métodos dentro de la clase, con nombre <strong>this</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Persona (var nombre: String, var edad: Int) {

        //Constructor con un parametro
        def this(edad: Int) {
                this(edad, &quot;&quot;)
        }

        def this(nombre: String) {
                this(nombre, 0)
        }

        def this() {
                this(0, &quot;&quot;)
        }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cada uno de los constructores auxiliares, debe comenzar con la invocación de otro constructor ya sea auxiliar o primario de la misma clase, no se puede invocar desde los auxiliares a constructores del padre.</p>
</div>
</div>
<div class="sect2">
<h3 id="_invocacion_del_contructor_del_padre">Invocacion del contructor del Padre</h3>
<div class="paragraph">
<p>Para la invocación de un constructor del padre, no se emplea la palabra reservada <strong>super</strong>.</p>
</div>
<div class="paragraph">
<p>Solo se puede invocar al constructor del padre desde el constructor <strong>Primario</strong>, definiendolo en la sentencia de <strong>extends</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Animal (var nombre: String) {
  // ...
}
class Perro (nombre: String) extends Animal (nombre) {
  // ...
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_parametros_por_defecto">Parametros por defecto</h3>
<div class="paragraph">
<p>Se pueden definir valores por defecto de los parametros del constructor en el constructor primario.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Persona(nombre: String = &quot;Victor&quot;, edad: Int = 22) {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Con esto se consiguen diversas formas de construcción de los objetos, sin necesidad de definir los constructores auxiliares.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">new Persona
new Persona(&quot;Juan&quot;)
new Persona(&quot;Juan&quot;, 35)
new Persona(edad=35, nombre= &quot;Juan&quot;)</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Se puede cambiar el orden de los parametros, siempre que se acompañe del nombre del parametro.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_campos">Campos</h3>
<div class="paragraph">
<p>Existen dos formas de definir campos:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A partir de los parametros de construcción, acopañandolos de <strong>var</strong> o <strong>val</strong>.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Point(var x: Int, var y: Int) {}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Definiendo una variable en el cuerpo de la clase.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Point{
        var x: Int = 0
        var y: Int = 0
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Para los parametros de construcción no es necesario establecer una asignación, dado que esta vendra dada cuando se construya el objeto, pero para las variables si será necesario.</p>
</div>
<div class="paragraph">
<p>Se puede hacer un mix, es decir que los parametros de construcción no generen campos, para ello no se les acompaña de <strong>var</strong> o <strong>val</strong> e inicilizar las variables con dichos parametros de construcción.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Point(xc: Int, yc: Int) {
   var x: Int = xc
   var y: Int = yc
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Si se definen los campos como <strong>var</strong> seran de lectura/escritura y si se definen como <strong>val</strong> solo de lectura.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Si no se establecen <strong>var</strong> o <strong>val</strong>, es como si se añadiese <strong>private</strong>, los campos son solo accesibles desde el interior de la clase.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Point(private var x: Int, private val y: Int) {
}

//equivale a

class Point(x: Int, y: Int) {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Al definir los campos con los parametros del constructor, se autogeneran los siguientes métodos, que quedan ocultos y que permiten hacer el get y el set de los campos</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">//Getter o Accesor
def x() : String = {
        return this.x
}

//Setter o Mutator
def x_$eq(x : String) : Unit = {
        this.x = x;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sobreescritura_de_get_accesor_y_set_mutator">Sobreescritura de Get (Accesor) y Set (Mutator)</h3>
<div class="paragraph">
<p>Los métodos aturogenerados no pueden ser sobrescritos, lo que se puede hacer es implementarlos manualmente</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Persona(private var _nombre: String = &quot;Victor&quot;, private var _edad: Int = 22) {

  println(&quot;Construyendo la Persona: Los Set y Get&quot;)

  def nombre = _nombre // accessor

  def nombre_=(nombre: String) { _nombre = nombre } // mutator
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_inicializacion_de_campos_con_bloques_de_codigo">Inicializacion de Campos con Bloques de Codigo</h3>
<div class="paragraph">
<p>Se puede inicilizar cualquier campo, con el valor generado por la ejecución de un bloque, sabiendo que el valor asignado sera la ultima sentencia del bloque</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Persona {
  var nombre = {
    println(&quot;Calculando el valor por defecto del campo nombre&quot;)
    &quot;Victor&quot;
  }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Si la inicializacion del campo es muy costosa, se puede definir como <strong>lazy</strong>, pero solo podra afectar a campos <strong>val</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Persona {
  lazy val nombre = {
    println(&quot;Calculando el valor por defecto del campo nombre&quot;)
    &quot;Victor&quot;
  }
}</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_equals_y_hashcode">Equals y HashCode</h3>
<div class="paragraph">
<p>En <strong>Scala</strong> cuando se emplea el operador <strong>==</strong>, se está invocando al método <strong>equals</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>override def equals(that: Any): Boolean = {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se puede aprovechar <strong>Pattern Matching</strong> para implementarlo</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">override def equals(that: Any): Boolean = that match {
  case that: Person =&gt; that.isInstanceOf[Person] &amp;&amp; this.name == that.asInstanceOf[Person].name &amp;&amp; this.age == that.asInstanceOf[Person].age
  case _            =&gt; false
}
override def hashCode: Int = {
        val prime = 31
        var result = 1
        result = prime * result + age;
        result = prime * result + (if (name == null) 0 else name.hashCode)
        return result
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se dice que toda relacion de igualdad, debe ser</p>
</div>
<div class="ulist">
<ul>
<li>
<p>reflexiva &#8594; Se debe cumplir que <strong>x.equals(x)</strong> sea <strong>true</strong></p>
</li>
<li>
<p>simetrica &#8594; Se debe cumplir que si <strong>x.equals(y)</strong> son <strong>true</strong>, <strong>y.equals(x)</strong> debe ser <strong>true</strong></p>
</li>
<li>
<p>transitiva &#8594; Se deve cumplir que si <strong>x.equals(y)</strong> son <strong>true</strong> y <strong>y.equals(z)</strong> son <strong>true</strong> entonces <strong>z.equals(x)</strong></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_clases_internas">Clases Internas</h3>
<div class="paragraph">
<p>Una clase interna, es aquella que se define dentro del ambito de otra.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class OuterClass {
        class InnerClass {
                var x = 1
        }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>En <strong>Scala</strong> las <strong>Clases</strong> internas estan rodeadas por <strong>Objetos</strong> externos, esto quiere decir que al instanciar un nuevo objeto de una clase interna, se ha de hacer partiendo de un objetos de la clase contenedora. Si se hace a traves de una variable, esta tiene que ser <strong>val</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val oc1 = new OuterClass
val ic1 = new oc1.InnerClass</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se pueden definir clases internas de <strong>Singleton</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">object OuterObject {
        class InnerClass {
                var x = 1
        }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Siendo la instanciacion mas directa, ya que no es necesario instanciar el <strong>Singleton</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val ic1 = new OuterObject.InnerClass</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tambien se pueden definir <strong>Singleton</strong> dentro de las clases</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class OuterClass {
        object InnerObject {
                val y = 2
        }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Teniendo que crear una instancia de la clase contenedora para acceder al <strong>Singleton</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">var io = new OuterClass().InnerObject</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_objeto_class">Objeto Class</h3>
<div class="paragraph">
<p>Para conseguir el objeto <strong>Class</strong> de una clase, se dispone del método <strong>classOf</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">classOf[TargetDataLine]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_objetos">Objetos</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para crear una concrecion de una <strong>clase</strong>, se emplea la palabra reservada <strong>new</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">new Persona</code></pre>
</div>
</div>
<div class="paragraph">
<p>En Scala no existen no existe el concepto de <strong>Static</strong>, a cambio existe el concepto de objetos <strong>Singleton</strong>.</p>
</div>
<div class="paragraph">
<p>Su definición se realiza empleando la palabra reservada <strong>object</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">object HelloWorld {
        def main(args: Array[String]) {
                println(&quot;Hello, world!&quot;)
        }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>No se pueden crear más instancias de los <strong>object</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">new HelloWorld //No compila</code></pre>
</div>
</div>
<div class="paragraph">
<p>Los <strong>object</strong> no reciben parametros de construcción, dado que la construcción del objeto es automatica y gestionada por <strong>scala</strong>, por lo que no habria posibilidad de cambiar dichos parametros, seria constantes.</p>
</div>
<div class="sect2">
<h3 id="_objeto_compañia">Objeto Compañia</h3>
<div class="paragraph">
<p>Es un <strong>object</strong> en el mismo fichero y con el mismo nombre que una <strong>clase</strong>, que permite asociar a la clase métodos únicos (static)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Persona {
}
object Persona {
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_patrón_singleton">Patrón Singleton</h3>
<div class="paragraph">
<p>Para forzar que una clase sea un <strong>Singleton</strong>, lo primero es hacer que el constructor de la clase sea privado, esto en <strong>scala</strong> se consigue añadiendo la palabra reervada <strong>private</strong> entre el nombre de la clase y los parametros</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Dios private {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>El siguiente paso sería permitir la ejecucion de un método que cree permita obtener la única instancia de la clase, pero este método no puede estar asociado a la instancia, en java seria <strong>static</strong> o asociado a la clase, pero en <strong>scala</strong> no existe ese concepto, por tanto se ha de emplear el <strong>companion object</strong>, un <strong>object</strong> con el mismo nombre de la clase que tiene una relación especial con dicha clase y que si permite definir métodos únicos.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Dios private {

}
object Dios {
        val dios = new Dios
        def getInstance = dios
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Este patrón en <strong>scala</strong>, no tiene sentido implementarlo, ya que <strong>object</strong> ya lo hace.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_clase_de_un_objeto">Clase de un Objeto</h3>
<div class="paragraph">
<p>Para conseguir el objeto <strong>Class</strong> de un <strong>Objeto</strong>, se dispone del método <strong>getClass</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">a.getClass</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tipos">Tipos</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Todo en Scala es un objeto, incluso las funciones o los numeros, no hay primitivos.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>La expresión</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">1 + 2 * 3 / x</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Equivale a</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">(1).+(((2).*(3))./(x))</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Se aprecia como +, * o / son funciones de la tipologia <strong>Int</strong>, no existe el concepto del operador y se pueden nombrar funciones con caracteres especiales como +, -, &#8230;&#8203; que en otros lenguajes estan reservados como operadores, podemos decir que los operadores se pueden sobreescribir.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Cuidado con el uso del operador <strong>.</strong> con los numeros, ya que <strong>1.</strong> se interpreta como <strong>1.0</strong>, será necesaria la sintaxis (1). para acceder a los métodos de <strong>Int</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Como las funciones son objetos, estas pueden ser pasadas por parametro en los métodos</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">object Timer {
        def oncePerSecond(callback: () =&gt; Unit) {
                while (true) {
                        callback(); Thread sleep 1000
                }
        }

        def timeFlies() {
                println(&quot;time flies like an arrow...&quot;)
        }

        def main(args: Array[String]) {
                oncePerSecond(timeFlies)
        }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>En el ejemplo, el método <strong>oncePerSecond</strong>, recibe como parametro llamado <strong>callback</strong> un método que sin recibir parametros <strong>()</strong>, no retorna nada <strong>Unit</strong>.</p>
</div>
<div class="paragraph">
<p>Los tipos de los parametros, pueden omitirse en ocasiones, ya que puede inferirse del contexto.</p>
</div>
<div class="sect2">
<h3 id="_tipos_basicos">Tipos Basicos</h3>
<div class="paragraph">
<p>Byte &#8594; Entero de 8 bits con signo. Rango desde -128 a 127.</p>
</div>
<div class="paragraph">
<p>Short &#8594; Entero de 16 bits con signo. Rang desde -32768 a 32767.</p>
</div>
<div class="paragraph">
<p>Int &#8594; Entero de 32 bits con signo. Rango desde -2147483648 a 2147483647.</p>
</div>
<div class="paragraph">
<p>Long &#8594; Entero de 64 bits con signo. Rango desde -9223372036854775808 a 9223372036854775807.</p>
</div>
<div class="paragraph">
<p>Float &#8594; Real de 32 bits precision simple.</p>
</div>
<div class="paragraph">
<p>Double &#8594; Real de 64 bits precision doble.</p>
</div>
<div class="paragraph">
<p>Char &#8594; Caracter Unicode de 16 bits sin signo. Range from U+0000 to U+FFFF.</p>
</div>
<div class="paragraph">
<p>String &#8594; Cadena de caracteres.</p>
</div>
<div class="paragraph">
<p>Boolean &#8594; Boleano true/false.</p>
</div>
<div class="paragraph">
<p>Unit &#8594; Sin valor (equivalente a <strong>void</strong> en java).</p>
</div>
<div class="paragraph">
<p>Null &#8594; Trait, de la cual null es una instancia.</p>
</div>
<div class="paragraph">
<p>Nil &#8594; Lista vacia.</p>
</div>
<div class="paragraph">
<p>Nothing &#8594; Trait subtipo de todos los demas, y no es supertipo de nada.</p>
</div>
<div class="paragraph">
<p>Any &#8594; Supertipo de todos los tipos tanto los referencia como los primitivos.</p>
</div>
<div class="paragraph">
<p>AnyVal &#8594; Supertipo de todos los tipos Scala cuyo equivalente en Java es primitivo.</p>
</div>
<div class="paragraph">
<p>AnyRef &#8594; Superttipo de los tipos referencia (equivalente a <strong>Object</strong> en java).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Scala_class_hierarchy.png" alt="Scala class hierarchy">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_literales">Literales</h3>
<div class="ulist">
<ul>
<li>
<p>Enteros</p>
<div class="ulist">
<ul>
<li>
<p>Son considerados por defecto <strong>Int</strong>, para representar <strong>Long</strong>, se emplean los sufijos <strong>L</strong> o <strong>l</strong>.</p>
</li>
<li>
<p>Aceptan nomenclatura hexadecimal con el prefijo <strong>0x</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Reales</p>
<div class="ulist">
<ul>
<li>
<p>Son considerados por defecto <strong>Double</strong>, para representar un <strong>Float</strong>, se emplean los sufijos <strong>F</strong> o <strong>f</strong>.</p>
</li>
<li>
<p>Aceptan nomenclatura cientifica (exponencial) <strong>1.0e100</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p>Caracteres</p>
<div class="ulist">
<ul>
<li>
<p>Se representan entre comillas simples.</p>
</li>
<li>
<p>Se pueden emplear codigos Unicode.</p>
</li>
<li>
<p>Secuencias de escape</p>
<div class="ulist">
<ul>
<li>
<p>\b &#8594; \u0008 &#8594;	espacio en blanco</p>
</li>
<li>
<p>\t &#8594; \u0009 &#8594;	tabulacion</p>
</li>
<li>
<p>\n &#8594; \u000c &#8594;	formfeed FF</p>
</li>
<li>
<p>\f &#8594; \u000c &#8594;	formfeed FF</p>
</li>
<li>
<p>\r &#8594; \u000d &#8594;	Retorno de carro</p>
</li>
<li>
<p>\" &#8594; \u0022 &#8594;	comilla doble</p>
</li>
<li>
<p>\' &#8594; \u0027 &#8594;	comilla simple</p>
</li>
<li>
<p>\\ &#8594; \u005c &#8594;	contra barra (\)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Cadenas de caracteres</p>
<div class="ulist">
<ul>
<li>
<p>Se representan entre comillas dobles.</p>
</li>
<li>
<p>Se puede definir un <strong>String</strong> en varias lineas empleando la triple comilla doble <strong>"""</strong></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">&quot;&quot;&quot;En un lugar de la mancha,
de cuyo nombre no quiero acordarme
vivia el ilustre hidalgo Don Quijote...&quot;&quot;&quot;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>null &#8594; Es un objeto especial de tipo <strong>scala.Null</strong>, para representar que la referncia no está establecida.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_tipo_option">Tipo Option</h3>
<div class="paragraph">
<p>Es un tipo de dato parametrizado, <strong>Option[T]</strong>, que puede tener dos valores</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>None</strong> permite indicar en escala nada.</p>
</li>
<li>
<p><strong>Some(T)</strong> permite encapsular cualquier tipo de para diferenciarlos de <strong>None</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>El <strong>Option</strong> permite:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Declarar un campo sin concretar la inicializacion.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">case class Persona (var nombre: String, var edad: Int) {
        var genero = None: Option[String]
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Encapsular el uso de <strong>null</strong>, evitando tener que hacer los procesados de ese valor <strong>null</strong>. Por ejemplo si se define el siguiente objeto</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val p = new Persona(&quot;&quot;,0)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se puede acceder al valor de <strong>genero</strong>, como <strong>Option</strong>, estando protegidos de los <strong>null</strong> para lo que se ofrecen los métodos</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>get</strong> &#8594; Retorna un <strong>Some(T)</strong> si existe el dato pedido y <strong>None</strong> sino existe.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val g = p.genero</code></pre>
</div>
</div>
<div class="paragraph">
<p>En este caso el valor de la variable <strong>g</strong> será <strong>None</strong>, si obtuviesemos el valor real, tendriamos un error</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">p.genero.get //Produce un error si genero vale *None*</code></pre>
</div>
</div>
<div class="paragraph">
<p>En cambio con el siguiente método nos protegemos del error</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>getOrElse(&lt;default value&gt;)</strong> &#8594; Permite obtener un dato si existe, <strong>Some(T)</strong> o el valor por defecto que hemos definido en caso de ser <strong>None</strong>.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">p.genero.getOrElse(&quot;Sin genero definido&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Además como los valores de los <strong>Option</strong>, <strong>None</strong> y <strong>Some(T)</strong>, son tipos case, se puede aplicar <strong>Pattern Matching</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">m.get(1) match {
  case Some(danceStep) =&gt;
    println(&quot;Soy el amo de la pista bailando: &quot; + danceStep)
  case None =&gt;
    println(&quot;Soy de los que me quedo mirando en la barra&quot;)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>O de una forma más adaptada a los <strong>Option</strong> con el método <strong>fold</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">m.get(1).fold(
  ifEmpty = println(&quot;A mi lo de bailar no me va mucho&quot;)){
  step =&gt; println(s&quot;Me rompí la cadera bailando $step&quot;)
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_variables">Variables</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Las Variables se definen con la palabra reservada <strong>var</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">var &lt;nombre de variable&gt; : &lt;tipo&gt; = &lt;valor inicial&gt;;</code></pre>
</div>
</div>
<div class="paragraph">
<p>El tipo es opcional, ya que se puede inferir del valor, siempre que se asigne un valor, de no asignarse valor, habrá que definir el tipo.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_variables_inmutables_de_solo_lectura">Variables inmutables de solo lectura</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Se definen con la palabra reservada <strong>val</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val &lt;nombre de la variable de tipo valor&gt; : &lt;tipo&gt; = &lt;valor&gt;;</code></pre>
</div>
</div>
<div class="paragraph">
<p>El tipo es opcional, ya que se puede inferir del valor.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Ojo, si se declara una variable de, por ejemplo, tipo Array como <strong>val</strong>, significa que con esa variable no se puede apuntar a otro <strong>Array</strong>, no que no se pueda cambiar el contenido de los elementos del <strong>Array</strong>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Una variable <strong>val</strong> puede representar una constante, pero para ello deberá de ser de un tipo inmutable.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ambitos">Ambitos</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Existen tres posibles ambitos de las <strong>variables</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Campo / Atributo.</p>
<div class="ulist">
<ul>
<li>
<p>Su ambito es el objeto al que pertenece, ya sea una instancia de una clase o un Singleton (Object).</p>
</li>
<li>
<p>Son accesibles desde cualquie método dentro del objeto y desde fuera de el, siempre que su visibilidad lo permita.</p>
</li>
<li>
<p>Puede ser <strong>var</strong> o <strong>val</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Parametros de métodos.</p>
<div class="ulist">
<ul>
<li>
<p>Su ambito es el método donde esta definido</p>
</li>
<li>
<p>Son inmutables, solo pueden ser <strong>val</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Variables locales.</p>
<div class="ulist">
<ul>
<li>
<p>Su ambito es el método donde esta definido</p>
</li>
<li>
<p>Puede ser <strong>var</strong> o <strong>val</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modificadores_de_acceso">Modificadores de Acceso</h2>
<div class="sectionbody">
<div class="paragraph">
<p>El modificador de acceso por defecto es <strong>public</strong>.</p>
</div>
<div class="paragraph">
<p>Existen a parte <strong>protected</strong> y <strong>private</strong></p>
</div>
<div class="paragraph">
<p>Se pueden emplear con <strong>Clases</strong>, <strong>Objetos</strong>, <strong>Miembros</strong> y <strong>Paquetes</strong>.</p>
</div>
<div class="sect2">
<h3 id="_private">Private</h3>
<div class="paragraph">
<p>Solo será accesible desde la clase donde se define.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Outer {
   class Inner {
      private def f() { println(&quot;f&quot;) }

      class InnerMost {
         f() // OK
      }
   }
   (new Inner).f() // Error: f no es accesible
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_protected">Protected</h3>
<div class="paragraph">
<p>Será accesible desde la clase donde se define y las subclases de esta.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">package p {
   class Super {
      protected def f() { println(&quot;f&quot;) }
   }

   class Sub extends Super {
      f()
   }

   class Other {
      (new Super).f() // Error: f no es accesible
   }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_modificacion_del_ambito_de_la_visibilidad">Modificacion del ambito de la visibilidad</h3>
<div class="paragraph">
<p>Se puede asociar la visibilidad de un miembro a la <strong>Clase</strong>, <strong>Objeto</strong> o <strong>Paquete</strong> que lo contiene, extendiendo o reduciendo el ambito definido.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">package vida {
   package trabajo {
      class Trabajador {
         private[trabajo] var proyectoAsignado = null
         private[vida] var nombre = null
         private[this] var salario = null

         def hablar(compi : Trabajador) {
            println(compi.proyectoAsignado)
            println(compi.salario) //ERROR: A los compañeros no les cuento mi salario, que luego tienen envidia ;-)
         }
      }
   }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sentencias_de_control">Sentencias de Control</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Como todas las operaciones en Scala son <strong>Métodos</strong>.</p>
</div>
<div class="sect2">
<h3 id="_if_else">If-Else</h3>
<div class="paragraph">
<p>Similar a java, pero en <strong>Scala</strong> dentro de la estructura se considera la devolucion de un resultado, como el operador ternario de java.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val x = if (a) y else z</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_try_catch_finally">Try-Catch-Finally</h3>
<div class="paragraph">
<p>Similar a java, pero en <strong>Scala</strong> se puede emplear <strong>pattern matching</strong> para las clausulas <strong>Catch</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val s = &quot;Foo&quot;
try {
        val i = s.toInt
} catch {
        case e: Exception =&gt; e.printStackTrace
        case e: FileNotFoundException =&gt; println(&quot;Couldn't find that file.&quot;)
        case e: IOException =&gt; println(&quot;Had an IOException trying to read that file&quot;)
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_for">For</h3>
<div class="paragraph">
<p>Método que permtie aplicar una funcionalidad a todos los elementos de una Secuencia.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">for (i &lt;- Array(1,2,3)) println(i)</code></pre>
</div>
</div>
<div class="paragraph">
<p>En el ejemplo la funcion a aplicar es <strong>println(i)</strong> y la secuencia es <strong>Array(1,2,3)</strong>, donde la variable <strong>i</strong> apunta a cada elemento de la secuencia en cada iteracion.</p>
</div>
<div class="paragraph">
<p>Se pueden emplear las palabras reservadas <strong>until</strong> y <strong>to</strong> para establecer rangos de ejecucion.</p>
</div>
<div class="sect3">
<h4 id="_contadores">Contadores</h4>
<div class="paragraph">
<p>Por ejemplo, <strong>until</strong> se suele emplear para recorrer la secuencia empleando <strong>Contadores</strong>, para conocer la  posición del elemeno en a secuencia</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">var a = Array(1,2,3)
for (i &lt;- 0 until a.length) {
        println(s&quot;$i is ${a(i)}&quot;)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se pueden definir varioss contadores, produciendose la ejecución del buble con todas las conbinaciones posibles de los contadores</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">for (i &lt;- 1 to 2; j &lt;- 1 to 2) println(s&quot;i = $i, j = $j&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Aunque la sintaxis mas habitual es</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">for {
        i &lt;- 1 to 3
        j &lt;- 1 to 5
        k &lt;- 1 to 10
} println(s&quot;i = $i, j = $j, k = $k&quot;)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_rangos">Rangos</h4>
<div class="paragraph">
<p>Y <strong>to</strong> para definir los extremos del rango</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">for (i &lt;- 1 to 3) {
        println(i)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Esta sentencia, realmente se traduce en</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">1.to(3).foreach(((i) =&gt; println(i)))</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_guards">Guards</h4>
<div class="paragraph">
<p>Tambien se pueden establecer condiciones en los rangos (<strong>guards</strong>) con la sentencia <strong>if</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">for (i &lt;- 1 to 10 if i &lt; 4) {
        println(i)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Esta sentencia, realmente se traduce en</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">1.to(3).withFilter(((i) =&gt; i.&lt;(4))).foreach(((i) =&gt; println(i)))</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Se pueden concatenar varios <strong>if</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Otra sintaxis habitual seria</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">for {
        i &lt;- 1 to 10
        if i &lt; 4
} println(i)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_for_yield">For/yield</h3>
<div class="paragraph">
<p>Método que retorna una Secuencia del mismo tipo que la que se procesa con el <strong>for</strong>, pero a la que aplica a cada elemento la transformación definida por <strong>yield</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val arrayresultado = for (i &lt;- Array(1,2,3)) yield i * 2

//Donde arrayresultado será un Array[Int] = Array(2, 4, 6)</code></pre>
</div>
</div>
<div class="paragraph">
<p>En el ejemplo la secuencia es <strong>Array(1,2,3)</strong> y la transformación aplicada a cada elemento de la secuencia es <strong>i x 2</strong></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Internamente se ejecuta el método <strong>map()</strong> de la secuencia.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">for {
        i &lt;- 1 to 10
} yield i

//Equivale a

1.to(10).map(((i) =&gt; i))</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Si se necesita un algoritmo mas complejo que una unica sentencia, la sintaxis seria</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val lengths = for (e &lt;- names) yield {
 e.length
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Donde la última sentencia es el valor incluido en la nueva coleccion.</p>
</div>
</div>
<div class="sect2">
<h3 id="_break_continue">Break/Continue</h3>
<div class="paragraph">
<p>No existen las palabras reservadas <strong>break</strong> y <strong>continue</strong>, a cambio ofrece una clase <strong>scala.util.control.Breaks</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">scala.util.control.Breaks.breakable(
    for (i &lt;- 0 to array.length - 1) {
      if (i &gt; 1) {
        scala.util.control.Breaks.break // corta la ejecucion del bucle
      }
      println(i + array(i))
    }
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se podria escribir de la siguiente forma si se incluye <strong>import scala.util.control.Breaks._</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">breakable(
    for (i &lt;- 0 to array.length - 1) {
      if (i &gt; 1) {
        break // corta la ejecucion del bucle
      }
      println(i + array(i))
    }
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Para expresar un <strong>continue</strong>, se emplea los mismos métodos, pero sin que afecten al bucle</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">for (i &lt;- 0 to array.length - 1) {
  breakable {
    if (array(i).contains(&quot;verde&quot;)) {
      println(&quot;Se ha encntrado el color Verde!!!!&quot;)
      break //termina el if, pero sigue con el for
    }
    println(&quot;Un color mas -&gt; &quot; + array(i))
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si se desea emplear etiquetas asociadas a los <strong>break</strong> se han de utilizar instancias la clase <strong>scala.util.control.Break</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val Inner = new Breaks
val Outer = new Breaks
Outer.breakable {
        for (i &lt;- 1 to 5) {
                Inner.breakable {
                        for (j &lt;- 'a' to 'e') {
                                if (i == 1 &amp;&amp; j == 'c') Inner.break else println(s&quot;i: $i, j: $j&quot;)
                                if (i == 2 &amp;&amp; j == 'b') Outer.break
                        }
                }
        }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_switch">Switch</h3>
<div class="paragraph">
<p>No existe la sentencia como tal, sino que se emplean los <strong>pattern matcher</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val month = i match {
        case 1 =&gt; &quot;January&quot;
        case 2 =&gt; &quot;February&quot;
        case 3 =&gt; &quot;March&quot;
        case 4 =&gt; &quot;April&quot;
        case 5 =&gt; &quot;May&quot;
        case 6 =&gt; &quot;June&quot;
        case 7 =&gt; &quot;July&quot;
        case 8 =&gt; &quot;August&quot;
        case 9 =&gt; &quot;September&quot;
        case 10 =&gt; &quot;October&quot;
        case 11 =&gt; &quot;November&quot;
        case 12 =&gt; &quot;December&quot;
        case _ =&gt; &quot;Invalid month&quot; // the default, catch-all
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>El caracter <strong>_</strong> se emplea como <strong>comodin</strong> para el resto de valores, si se desa procesaro el valor en las sentencias de la derecha, se puede asociar el <strong>case</strong> con una variable</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val month = i match {
        case 1 =&gt; &quot;January&quot;
        case 2 =&gt; &quot;February&quot;
        case 3 =&gt; &quot;March&quot;
        case 4 =&gt; &quot;April&quot;
        case 5 =&gt; &quot;May&quot;
        case 6 =&gt; &quot;June&quot;
        case 7 =&gt; &quot;July&quot;
        case 8 =&gt; &quot;August&quot;
        case 9 =&gt; &quot;September&quot;
        case 10 =&gt; &quot;October&quot;
        case 11 =&gt; &quot;November&quot;
        case 12 =&gt; &quot;December&quot;
        case invalid =&gt; invalid + &quot; is a Invalid month&quot; // the default, catch-all
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_do_while">Do while</h3>
<div class="paragraph">
<p>La sentencia no difiere de java</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">var a = 10;

do {
        println(&quot;Value of a: &quot; + a);
        a = a + 1;
} while (a &lt; 20)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_while">While</h3>
<div class="paragraph">
<p>La sentencia no difiere de java</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">var a = 10;

while( a &lt; 20 ){
        println( &quot;Value of a: &quot; + a );
        a = a + 1;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_funciones">Funciones</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Las Funciones se definen con la palabra reservada <strong>def</strong>, siguiendo la sintaxis</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">def &lt;nombre funcion&gt;(&lt;variable&gt;: &lt;tipo&gt;, ...) : &lt;Tipo retornado&gt; = {
        &lt;cuerpo de la funcion&gt;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>No es obligatorio definir un tipo de retorno, de hacerlo, retornarán el valor de la última sentencia ejecutada, que no puede ser de asignación.</p>
</div>
<div class="paragraph">
<p>Las funciones se pueden anidar unas dentro de otras, pudiendo accederse los parametros y variables de la contenedora, desde la contenida</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">def sort(xs: Array[Int]) = {

    def swap(i: Int, j: Int) {
            val t = xs(i); xs(i) = xs(j); xs(j) = t
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>En Scala la invocación de las funciones asociadas a variables, no se tiene porque escribir con el operador <strong>.</strong></p>
</div>
<div class="paragraph">
<p>Por tanto la expresion</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">xs filter (pivote &gt;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Es equivalente a</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">xs.filter(pivote &gt;)</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_funcion_anonima">Funcion anonima</h3>
<div class="paragraph">
<p>Se pueden definir funciones anonimas como la del siguiente ejemplo</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">(i: Int) =&gt; i % 2 == 0</code></pre>
</div>
</div>
<div class="paragraph">
<p>De formas mas reducida</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">_ % 2 == 0</code></pre>
</div>
</div>
<div class="paragraph">
<p>Aplicando un funcion naonima en un trozo de programa.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">object TimerAnonymous {
        def oncePerSecond(callback: () =&gt; Unit) {
                while (true) {
                        callback(); Thread sleep 1000
                }
        }

        def main(args: Array[String]) {
                oncePerSecond(() =&gt; println(&quot;time flies like an arrow...&quot;))
        }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Empleando la siguiente sintaxis en la declaración de la función anonima</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">&lt;variable que referencia a la función que llega por parametros&gt;: (&lt;parametros separados por ,&gt;) =&gt; &lt;tipo retornado&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Donde <strong>callback</strong> es el parametro que apuntará a la función recibida y se observa que la declaración de la función anonima que recibira la función <strong>oncePerSecond</strong> sigue la sintaxis</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">() =&gt; Unit</code></pre>
</div>
</div>
<div class="paragraph">
<p>Que representa la firma de cualquier función que no recibe parametros ni retorna valores, por tanto <strong>Unit</strong> es similar a <strong>void</strong> en Java.</p>
</div>
<div class="paragraph">
<p>Y se emplea la siguiente sintaxis en la definición de una nueva funcion anonima</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">(&lt;parametros separados por ,&gt;) =&gt; &lt;cuerpo de la función&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>En el ejemplo la funcion anonima definida será</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">() =&gt; println(&quot;time flies like an arrow...&quot;)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_parametros_por_defecto_2">Parametros por defecto</h3>
<div class="paragraph">
<p>Se pueden definir parametros por defecto para los métodos</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">def saludo (nombre: String = &quot;Mundo&quot;){
        print(&quot;Hola &quot; + nombre + &quot;!!!!&quot;)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Por lo que se puede invocar un método sin cumplir con los parametros que se piden</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">saludo(&quot;Victor&quot;)

saludo()</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_paso_de_parametros_por_nombre">Paso de parametros por nombre</h3>
<div class="paragraph">
<p>Se pueden pasar los parámetros en cuanquier orden, empleando los nombres de los parametros para su asignacion.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">object Saludador {
  def saludo( prefijo: String = &quot;Hola&quot;, sufijo: String = &quot;!!!!!&quot;, nombre: String) {
    println(prefijo + nombre + sufijo)
  }
  def main(args: Array[String]) {
    depura(nombre = &quot;Victor&quot;, sufijo = &quot;??????&quot; )
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_numero_indeterminado_de_patametros">Numero indeterminado de patametros</h3>
<div class="paragraph">
<p>Se puede definir un método para que acepte unn numero indeerminado de parametros con *</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">def printAll(strings: String*) {
        strings.foreach(println)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Todas las siguientes invocaciones serán validas</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">printAll()
printAll(&quot;foo&quot;)
printAll(&quot;foo&quot;, &quot;bar&quot;)
printAll(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Como en java y otros lenguajes, solo puede existir un parametro indeterminado en numero y de haber mas parametros, el indeterminado será el último.</p>
</div>
<div class="paragraph">
<p>Si los elementos se quieren sacar de un Array, List, Seq, Vector, &#8230;&#8203; se puede indicar con _* la transformación para que sea valida la siguiente sentencia</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val fruits = List(&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;)

printAll(fruits: _*)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_invocacion_parcial_fp">Invocacion Parcial (FP)</h3>
<div class="paragraph">
<p>En Scala se puede preparar la invocación de un método indicando solo algunos de sus parametros, pudiendo realizar la invocación de dicho método mas adelante, ya si, indicando los parametros restantes.</p>
</div>
<div class="paragraph">
<p>Esto se consigue con una variable intermedia que guarda la preparación y el comodin <strong>_</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val punteroASumar2 = sumar(2, _: Int)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Donde la definicion del método sería</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">def multiplica (a: Int, b: Int) : Int = {
        return a * b
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Y la invocación real del algoritmo</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">punteroASumar2(1)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_estilo_fluido_de_programación">Estilo Fluido de programación</h3>
<div class="paragraph">
<p>Cuando se precisa retornar el mismo objeto que fue invocado para permitir la concatenación de métodos, se puede emplear <strong>this.type</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val person = new Person.setFirstName(&quot;Al&quot;).setLastName(&quot;Alexander&quot;)

class Person {
        protected var fname = &quot;&quot;
        protected var lname = &quot;&quot;

        def setFirstName(firstName: String): this.type = {
                fname = firstName
                this
        }
        def setLastName(lastName: String): this.type = {
                lname = lastName
                this
        }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_funciones_de_orden_superior_fp">Funciones de Orden superior (FP)</h3>
<div class="paragraph">
<p>Son funciones que reciben por paramtro otras funciones</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">def exec(f: (String) =&gt; Unit, name: String) {
        f(name)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>En este caso se recibe por parametro una función <strong>f</strong> que recibe un <strong>String</strong> y no retorna nada.</p>
</div>
<div class="paragraph">
<p>Normalmente si la funcion recibida recibe parametros, estos tambien llegan como parametros.</p>
</div>
<div class="paragraph">
<p>Es uno de los ejes de la <strong>Programación Funcional</strong></p>
</div>
<div class="paragraph">
<p>Esta definicion da paso a las <strong>Closures</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_retorno_de_una_funcion">Retorno de una funcion</h3>
<div class="paragraph">
<p>Se puede retornar como resultado de la ejecucion de un método, una funcion, un algoritmo.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">def saySomething(prefix: String) = (s: String) =&gt; {
        prefix + &quot; &quot; + s
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>En este caso, se esta retornando una funcion tal que</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">(s: String) =&gt; { prefix + &quot; &quot; + s }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Por lo que al ejecutar</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val sayHello = saySomething(&quot;Hello&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se tiene la referencia a la funcion anonima, aunque en este caso ya no es anonima, la cual a su vez es invocable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">sayHello(&quot;Al&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se puede emplear esta funcionalidad asociada con los <strong>Matcher Pattern</strong> para crear algo similar a una factoria</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">def greeting(language: String) = (name: String) =&gt; {
        language match {
                case &quot;english&quot; =&gt; &quot;Hello, &quot; + name
                case &quot;spanish&quot; =&gt; &quot;Buenos dias, &quot; + name
        }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La clave de ese método, reside en la firma <strong>= (name: String) &#8658; {</strong>, la aparicion de este codigo en la firma indica que se retornará una función que acepta un <strong>String</strong></p>
</div>
<div class="paragraph">
<p>Se puede ver mas claro</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">def greeting(language: String) = (name: String) =&gt; {
        val english = () =&gt; &quot;Hello, &quot; + name
        val spanish = () =&gt; &quot;Buenos dias, &quot; + name

        language match {
                case &quot;english&quot; =&gt;         println(&quot;returning 'english' function&quot;)
                                                        english()
                case &quot;spanish&quot; =&gt;         println(&quot;returning 'spanish' function&quot;)
                                                        spanish()
        }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_funcion_predicado">Funcion Predicado</h3>
<div class="paragraph">
<p>Las funciones predicado son funciones que reciben uno o mas parametros y retornan un <strong>boleano</strong> definen una expresión que recibe parametros y genera un valor de un tipo.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">//def isEven (i: Int) = if (i % 2 == 0) true else false
def isEven (i: Int) = (i % 2 == 0)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_closures_fp">Closures (FP)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Es una función que puede interaccionar no solo con las variables de su ambito, sino con las de otro ambito.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">object AplicacionClosures extends App {

  //Se define una variable
  var hello = &quot;Hello&quot;

  //Se define un metodo, que usa la anterior variable
  def sayHello(name: String) { println(s&quot;$hello, $name&quot;) }

  // Se crea un objeto con un método que acepta un Closure
  val foo = new otherscope.Foo

  //Se ejecuta el método, pasando el metodo definido anteriormente como Closure
  foo.exec(sayHello, &quot;Al&quot;)

  //Se cambia la variable
  hello = &quot;Hola&quot;

  //Se ejecuta de nuevo el metodo con la misma closure
  foo.exec(sayHello, &quot;Lorenzo&quot;)
}

package otherscope {
  class Foo {
    def exec(f: (String) =&gt; Unit, name: String) {
      f(name)
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>En el ejemplo <strong>f</strong> es la <strong>closure</strong>, en su ambito tiene la variable <strong>name</strong>, pero cuando se ejecuta el codigo subyacente, tambien se hace uso de otra variable <strong>hello</strong> que esta en otro ambito, que puede ser modificada en ese otro ambito y cambiar el resultado de la ejecución de la <strong>closure</strong>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_herencia">Herencia</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Se puede heredar de otras clases de forma analoga a java, con la palabra reservada <strong>extends</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Persona {
        override def toString = &quot;Texto que representa en formato string el objeto&quot;
}

class Cliente extends Persona {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Todas las clases en Scala heredan de otra, en caso de no definirse, será de <strong>scala.AnyRef</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Trabajo extends AnyRef {

}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_herencia_de_campos">Herencia de campos</h3>
<div class="paragraph">
<p>Al definir en el constructor parametros con <strong>var</strong> o <strong>val</strong>, se crean campos y al heredar de una clase con campos, estos parametros se han de proporcionar, la sintaxis para ellos seria</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Persona(var nombre: String) {

}

class Cliente (nombre: String, var edad: Int) extends Persona (nombre) {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se puede comprobar como cada clase tiene sus campos, en este caso nombre es un campo mantenido por la clase <strong>Persona</strong>, por lo que en los parametros de la clase <strong>Cliente</strong> no se le indica <strong>var</strong>, de hacerlo daria error de compilación, porque se intentan crear el <strong>accesor</strong> y el <strong>mutator</strong> y ya estan definidos en el padre.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sobreescritura">Sobreescritura</h3>
<div class="paragraph">
<p>La sintaxis para la sobreescritura se basa en la palabra reservada <strong>override</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">override def toString = &quot;&quot; + re + (if (im &lt; 0) &quot;&quot; else &quot;+&quot;) + im + &quot;i&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se pueden sobrescribir tanto métodos como campos definidos en la clase padre</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">abstract class Animal {
  val sonido = &quot;No disponible&quot; // provide an initial value
  def hablar { println(sonido) }
}
class Perro extends Animal {
  override val sonido = &quot;Guau&quot; // override the value
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Para los metodos y los campos abstractos, no es necesario poner <strong>override</strong></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_traits_fp">Traits (FP)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>La palabra <strong>trait</strong> en inglés puede traducirse literalmente como rasgo o caracteristica.</p>
</div>
<div class="paragraph">
<p>Son similares a las interfaces de Java, salvo porque los <strong>Traits</strong> pueden ser parcialmente implementados, pueden definir implementaciones por defecto para algunos métodos.</p>
</div>
<div class="paragraph">
<p>Se emplea la palabra reservada <strong>trait</strong> para definirlos.</p>
</div>
<div class="paragraph">
<p>Si los métodos definidos por el <strong>Trait</strong> no tienen parametros, se puede obviar la estructura de los parentesis</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">trait BaseSoundPlayer {
        def play
        def close
        def pause
        def stop
        def resume
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>En contraste con las clases, los <strong>Traits</strong> no pueden tener parámetros de constructor.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">trait Similarity {
  def isSimilar(x: Any): Boolean
  def isNotSimilar(x: Any): Boolean = !isSimilar(x)
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_herencia_2">Herencia</h3>
<div class="paragraph">
<p>Un <strong>trait</strong> puede heredar de otro <strong>trait</strong> o de una <strong>clase</strong>, para lo cual se emplea la palabra reservada <strong>extends</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class StarfleetComponent
trait StarfleetWarpCore extends StarfleetComponent</code></pre>
</div>
</div>
<div class="paragraph">
<p>En el caso de heredar de una clase, el <strong>Trait</strong> solo podrá ser empleado en aquellas clases que de heredar, lo hagan de la misma que el <strong>Trait</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class StarfleetComponent
trait StarfleetWarpCore extends StarfleetComponent
class RomulanStuff

// Esta herencia no compila
class Warbird extends RomulanStuff with StarfleetWarpCore</code></pre>
</div>
</div>
<div class="paragraph">
<p>Para implementar un <strong>Trait</strong> se emplea la palabra reservada <strong>extends</strong>, si solo se implmenta un <strong>trait</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Point(xc: Int, yc: Int) extends Similarity {
  var x: Int = xc
  var y: Int = yc

  def isSimilar(obj: Any) =
    obj.isInstanceOf[Point] &amp;&amp;
    obj.asInstanceOf[Point].x == x
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>En cambio si la clase extiende de otra y además implementa algun <strong>trait</strong>, se emplea la palabra reservada <strong>with</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Foo extends BaseClass with Trait1 with Trait2 {}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Salvo que la clase que implemente el <strong>Trait</strong> sea abstracta, debe implementar todos los metodos que el <strong>trait</strong> no implemente.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_atributos">Atributos</h3>
<div class="paragraph">
<p>Los <strong>traits</strong> pueden definir atributos, que pueden a su vez ser abstractos o concretos</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">trait PizzaTrait {
        var numToppings: Int // abstracto
        var size = 14 // concreto
        val maxNumToppings = 10 // constante concreta
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se consideran concretos cuando son inicializados y abstractos cuando no.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Pizza extends PizzaTrait {
        var numToppings = 0 // no se necesita 'override'
        size = 16 // no se necesita ni 'var' ni 'override'
        override val maxNumToppings = 10 // Se necesita 'override' y 'val' por ser una constante
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Las clases que extiendan los <strong>traits</strong> deberan inicializar los atributos no inicializados o deberan ser abstractas.</p>
</div>
</div>
<div class="sect2">
<h3 id="_mixins">Mixins</h3>
<div class="paragraph">
<p>La palabra mixin puede ser traducida como mezcla.</p>
</div>
<div class="paragraph">
<p>Permite componer una clase con <strong>Métodos</strong> definidos en distintos <strong>lugares</strong> (1 clase y n traits)</p>
</div>
<div class="paragraph">
<p>Se emplea la palabra reservada <strong>with</strong> para indicar los <strong>Traits</strong> de los que extenderá la clase.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">trait Tail {
        def wagTail { println(&quot;tail is wagging&quot;) }
        def stopTail { println(&quot;tail is stopped&quot;) }
}


abstract class Pet (var name: String) {
        def speak // abstract
        def ownerIsHome { println(&quot;excited&quot;) }
        def jumpForJoy { println(&quot;jumping for joy&quot;) }
}

class Dog (name: String) extends Pet (name) with Tail {
        def speak { println(&quot;woof&quot;) }
        override def ownerIsHome {
                //Se emplean los métodos del Trait
                wagTail
                speak
        }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_clases_abstractas">Clases Abstractas</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dado que en <strong>Scala</strong> existen los <strong>Traits</strong> que son mas potentes que las clases abstractas, estan quedan relegadas a</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cuando quieras crear una clase con parametros de construcción.</p>
</li>
<li>
<p>El codigo tenga quer invocado desde Java.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Se definen con la palabra reservada <strong>abstract</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">abstract class Persona (name: String) {

}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_campos_abstractos">Campos Abstractos</h3>
<div class="paragraph">
<p>Las clases abstractas pueden tener campos no inicializados</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">abstract class Persona (nombre: String) {
        var edad : Int
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cuando en las clases hijas se implementen estos campos, se debera volver a indicar <strong>val</strong> o <strong>var</strong>, ya que el campo no se crea en la clase abstracta, solo se crean el <strong>accesor</strong> y el <strong>mutator</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Trabajador (nombre: String) extends Persona(nombre) {
        var edad = 12
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_métodos_abstractos">Métodos Abstractos</h3>
<div class="paragraph">
<p>Las definiciones de métodos abstractos que no aceptan parametros, se puede reconvertir en un campo en la definición de la clase hija.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">abstract class Mascota (nombre: String) {
        def sonido: String
}
class Perro (nombre: String) extends Mascota (nombre) {
        val sonido = &quot;Guau&quot;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_paquetes">Paquetes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Es la primera linea no comentada del fichero.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">package com.ejemplo</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se pueden definir empleando bloques de <strong>{}</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">package com.ejemplo {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Con esta sintaxis, se pueden definir varios paquetes en un mismo fichero, o incluso el mismo partido</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">package com.ejemplo.modelo {

}
package com.ejemplo.logica {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se pueden anidar</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">package com {
        package ejemplo {
                package modelo {
                }
        }
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_objetos_paquete">Objetos Paquete</h3>
<div class="paragraph">
<p>Permiten definir métodos, campos y otro código para que este disponible a nivel de paquete, sin tener que definir una <strong>Clase</strong> u <strong>Objeto</strong>.</p>
</div>
<div class="paragraph">
<p>Para su definición, la convencion, es definir un fichero dentro de un directorio llamado <strong>package.scala</strong>, por ejemplo, si el paquete a definir es <strong>com.ejemplo.modelo</strong>, se ha de crear el fichero <strong>com/ejemplo/modelo/package.scala</strong>.</p>
</div>
<div class="paragraph">
<p>Dentro del fichero se ha de definir como <strong>package</strong>, el nivel anterior al definido, es decir para el ejemplo seria</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">package com.ejemplo</code></pre>
</div>
</div>
<div class="paragraph">
<p>Usando el ultimo nivel, para dar nombre al <strong>Objeto Paquete</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">package com.ejemplo

package object modelo {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dentro se pueden definir los métodos y clases que se quieran, a los que se tendrá acceso directo desde otras <strong>Clases</strong> y <strong>Object</strong> del mismo paquete.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_imports">Imports</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En Scala se pueden crear expresiones con las sentencias de import, pudiendo hacer</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Agrupación de import de un paquete</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">import java.util.{Date, Locale}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Importación de todas las clase de un paquete</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">import java.text.DateFormat._</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Renombrado de un import</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">import scala.collection.{Vector =&gt; Vec28}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Exclusión de una clase de una importación masiva</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">import java.util.{Date =&gt; _, _}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Los imports se pueden poner donde se quieran, siendo locales a su ubicación, pueden estar dentro del cuerpo de una clase u objeto.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Bar {
        def doBar = {
                import scala.util.Random
                println(&quot;&quot;)
        }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se pueden renombrar los imports</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">import java.util.{ArrayList =&gt; JavaList}

val list = new JavaList[String]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Una vez que se renombra el nombre original ya no puede ser empleado, solo sera empleable el alias.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sbt">SBT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Emplea la estructura de directorio de <strong>Maven</strong></p>
</div>
<div class="paragraph">
<p>Emplea el paradigma de <strong>convention over configuration</strong></p>
</div>
<div class="paragraph">
<p>MAs informacion en la documentacion <a href="http://www.scala-sbt.org/0.13/docs/index.html">aquí</a></p>
</div>
<div class="sect2">
<h3 id="_comandos">Comandos</h3>
<div class="paragraph">
<p>clean &#8594; Limpia la carpeta <strong>target</strong></p>
</div>
<div class="paragraph">
<p>compile &#8594; Compila los ficheros del proyecto y los coloca en la carpeta target</p>
</div>
<div class="paragraph">
<p>package &#8594; Crea un jar con la aplicación.</p>
</div>
<div class="paragraph">
<p>run &#8594; Ejecuta la aplicación</p>
</div>
<div class="paragraph">
<p>reload &#8594; Recarga la configuracion de SBT</p>
</div>
<div class="paragraph">
<p>plugins &#8594; Lista los plugins definidos</p>
</div>
<div class="paragraph">
<p>test &#8594; Ejecuta los test</p>
</div>
<div class="paragraph">
<p>test-only &#8594; Ejecuta solo los test que se le pasan separados por espacios</p>
</div>
</div>
<div class="sect2">
<h3 id="_key">Key</h3>
<div class="paragraph">
<p>Todas las definiciones son <strong>Keys</strong>, pueden ser:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SettingKey[T] &#8594; una key para un valor que se calcula una sola vez (el valor es calculado cuando se carga el proyecto, y se mantiene).</p>
</li>
<li>
<p>TaskKey[T] &#8594; una key para un valor, llamado una task (tarea), que tiene que ser recalculada cada vez, potencialmente con efectos laterales.</p>
</li>
<li>
<p>InputKey[T] &#8594; una key para una task que tiene argumentos para la línea de comandos como entrada.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>La definición de una key se escribe</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">name := &quot;hello&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La sentencia se puede interpretar como</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">name.:=(&quot;hello&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Es necesario que exista entre medias de cada definicion una linea en blanco.</p>
</div>
<div class="sect3">
<h4 id="_keys_predefenidas">Keys predefenidas</h4>
<div class="paragraph">
<p>Las principales Keys que deben aparecer en un proyecto <strong>SBT</strong> son</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">name := &quot;Simple Project&quot;

version := &quot;1.0&quot;

scalaVersion := &quot;2.10.4&quot;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_custom_key">Custom Key</h4>
<div class="paragraph">
<p>Se pueden declarar nuevas <strong>Task</strong> empleando los metodos de creación: settingKey, taskKey e inputKey</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">lazy val hello = taskKey[Unit](&quot;An example task&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Y definir su valor de forma analoga a las proporcionadas por la herramienta</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">hello := { println(&quot;Hello!&quot;) }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_plugins">Plugins</h3>
<div class="paragraph">
<p>Los plugins añaden nuevas <strong>Key</strong>, tipicamente <strong>TaskKey</strong>.</p>
</div>
<div class="paragraph">
<p>Se definen en el fichero <strong>/project/plugins.sbt</strong></p>
</div>
<div class="paragraph">
<p>Por ejemplo se puede añadir un Plugin para tranformar un proyecto <strong>SBT</strong> a <strong>Eclipse</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">addSbtPlugin(&quot;com.typesafe.sbteclipse&quot; % &quot;sbteclipse-plugin&quot; % &quot;4.0.0&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Este plugin da un nuevo <strong>TaskKey</strong> llamado <strong>eclipse</strong> que interpreta la configuracion <strong>SBT</strong> y genera los ficheros de <strong>eclipse</strong>, si se hace alguna modificación en la condfguracion de <strong>SBT</strong>, habra que volver a lanzar el comando para que eclipse la tenga en cuenta.</p>
</div>
<div class="paragraph">
<p>Si el plugin no esta en los repositorios por defecto, se pueden definir nuevos</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">resolvers += Resolver.sonatypeRepo(&quot;public&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>El listado de plugins disponible se puede consultar <a href="http://www.scala-sbt.org/0.13/docs/Community-Plugins.html">aquí</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_dependencias">Dependencias</h3>
<div class="paragraph">
<p>Las dependencias se añaden sobre la <strong>Key</strong> <strong>libraryDependencies</strong>, en este caso es una <strong>Key</strong> que no tiene un unico valor, por lo que se emplea es el operador <strong>+=</strong> para concatenar las distitnas dependencias</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">libraryDependencies += &quot;org.apache.derby&quot; % &quot;derby&quot; % &quot;10.4.1.3&quot;
libraryDependencies += &quot;org.scalatest&quot; % &quot;scalatest_2.11&quot; % &quot;2.2.4&quot; % &quot;test&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>El valor se obtiene empleando el método <strong>%</strong> que permite construir un ID para un módulo de <strong>Ivy</strong>.</p>
</div>
<div class="paragraph">
<p>Se puede obtener la referencia de la dependencia de <a href="https://mvnrepository.com">aqui</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_ambitos_2">Ambitos</h3>
<div class="paragraph">
<p>Se pueden definir los valores de los <strong>key</strong> para los distintos ambitos definidos</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Test</p>
</li>
<li>
<p>Compile</p>
</li>
<li>
<p>Runtime</p>
</li>
<li>
<p>Global</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Siguiendo la sintaxis</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">name in Test := &quot;HolaMundoSBTest&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Desde la linea de comando se puede inspeccionar los valores que tienen las distintas <strong>key</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="console">sbt&gt; inspect test:name</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_testing">Testing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>El la Programación funcional, el testing de las funcionalidades, ofrece mayor garantia que en la programacion imperativa, dado que en la funcional el resultado de la ejecución de una función, solo dependen de los parametros de entrada, y no del ambito de ejecución.</p>
</div>
<div class="paragraph">
<p>El Framework para la realizacion de test en <strong>Scala</strong> se llama <strong>scalatest</strong>, se puede encontrar su documentacion <a href="http://doc.scalatest.org/3.0.1">aqui</a></p>
</div>
<div class="paragraph">
<p>Se necesitará añadir al classpath el jar de <strong>scalatest</strong></p>
</div>
<div class="paragraph">
<p>Para añadirlo con <strong>SBT</strong> se ha de añadir al fichero <strong>/build.sbt</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">libraryDependencies += &quot;org.scalatest&quot; %% &quot;scalatest&quot; % &quot;3.0.1&quot; % &quot;test&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Para añadirlo con <strong>Maven</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>org.scalatest<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>scalatest_2.11<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>3.0.1<span class="tag">&lt;/version&gt;</span>
  <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Existen varios tipos de Estilos de definir los Test</p>
</div>
<div class="ulist">
<ul>
<li>
<p>FunSuite</p>
</li>
<li>
<p>FlatSpec</p>
</li>
<li>
<p>FunSpec</p>
</li>
<li>
<p>WordSpec</p>
</li>
<li>
<p>FreeSpec</p>
</li>
<li>
<p>PropSpec</p>
</li>
<li>
<p>FeatureSpec</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_funsuite">FunSuite</h3>
<div class="paragraph">
<p>Se define una clase que extienda <strong>FunSuite</strong>, donde se definirá la logica del <strong>Test</strong> y se incluiran tantos <strong>test</strong> como sean necesarios</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">import org.scalatest.FunSuite

class SetSuite extends FunSuite {

  test(&quot;An empty Set should have size 0&quot;) {
    assert(Set.empty.size == 0)
  }

  test(&quot;Invoking head on an empty Set should produce NoSuchElementException&quot;) {
    assertThrows[NoSuchElementException] {
      Set.empty.head
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Los <strong>test</strong> siguen definen un texto descripivo del test y un cuerpo con las aserciones necesarias.</p>
</div>
</div>
<div class="sect2">
<h3 id="_flatspec">FlatSpec</h3>
<div class="paragraph">
<p>Se define una clase que extienda <strong>FlatSpec</strong>, definiendose una serie de enunciados donde se emplean <strong>should</strong>, <strong>can</strong>, <strong>must</strong>, &#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">import org.scalatest.FlatSpec

class SetSpec extends FlatSpec {

  &quot;An empty Set&quot; should &quot;have size 0&quot; in {
    assert(Set.empty.size == 0)
  }

  it should &quot;produce NoSuchElementException when head is invoked&quot; in {
    assertThrows[NoSuchElementException] {
      Set.empty.head
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si se necesitan mas de un test sobre el mismo elemento, se puede emplear <strong>it</strong></p>
</div>
</div>
<div class="sect2">
<h3 id="_funspec">FunSpec</h3>
<div class="paragraph">
<p>Se define una clase que extienda <strong>FunSpec</strong>, definiendose una serie de enunciados empleando la anidacion de <strong>describe</strong>, para la reutilizacion de dichos enunciados, definiendo la asercion dentro de un <strong>it</strong></p>
</div>
<div class="paragraph">
<p>Familiar para desarrolladores de <strong>Ruby RSpec</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">import org.scalatest.FunSpec

class SetSpec extends FunSpec {

  describe(&quot;A Set&quot;) {
    describe(&quot;when empty&quot;) {
      it(&quot;should have size 0&quot;) {
        assert(Set.empty.size == 0)
      }

      it(&quot;should produce NoSuchElementException when head is invoked&quot;) {
        assertThrows[NoSuchElementException] {
          Set.empty.head
        }
      }
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_wordspec">WordSpec</h3>
<div class="paragraph">
<p>Se define una clase que extienda <strong>WordSpec</strong>, definiendose una serie de enunciados empleando los verbos: <strong>should</strong>, <strong>must</strong>, o <strong>can</strong> asociados a un <strong>SUT</strong>.</p>
</div>
<div class="paragraph">
<p>Si hay varias situaciones que se dean contemplar del mismo <strong>SUT</strong>, se puede emplear <strong>when</strong>.</p>
</div>
<div class="paragraph">
<p>Una vez descrito el enunciado, se finaliza con un bloque <strong>in</strong> y dentro la asercion</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">import org.scalatest.WordSpec

class SetSpec extends WordSpec {

  &quot;A Set&quot; when {
    &quot;empty&quot; should {
      &quot;have size 0&quot; in {
        assert(Set.empty.size == 0)
      }

      &quot;produce NoSuchElementException when head is invoked&quot; in {
        assertThrows[NoSuchElementException] {
          Set.empty.head
        }
      }
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_freespec">FreeSpec</h3>
<div class="paragraph">
<p>Se define una clase que extienda <strong>FreeSpec</strong>, definiendose una serie de enunciados terminado por <strong>in</strong>, estos enunciados, se pueden partir para su reutilizacion empleando <strong>-</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">import org.scalatest.FreeSpec

class SetSpec extends FreeSpec {

  &quot;A Set&quot; - {
    &quot;when empty&quot; - {
      &quot;should have size 0&quot; in {
        assert(Set.empty.size == 0)
      }

      &quot;should produce NoSuchElementException when head is invoked&quot; in {
        assertThrows[NoSuchElementException] {
          Set.empty.head
        }
      }
    }
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_matchers">Matchers</h3>
<div class="paragraph">
<p>El API proporciona un <strong>Trait</strong> que proporciona numerosas funciones para poder realizar los asertos de forma mas semantica <strong>org.scalatest.Matchers</strong>, este emplea el verbo <strong>should</strong>, de forma paralela existe otro <strong>Trait</strong> <strong>org.scalatest.MustMatchers</strong> que emplea el verbo <strong>must</strong> son iguales, simplemente se emplea el segundo de forma mas formal.</p>
</div>
<div class="paragraph">
<p>La idea será sustituir los asertos por estas sentencias mas legibles</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class ConMatchers extends FunSuite with Matchers {

  val nimoy = new Person(&quot;Leonard Nimoy&quot;, 82)
  val nimoy2 = new Person(&quot;Leonard Nimoy&quot;, 82)
  val shatner = new Person(&quot;William Shatner&quot;, 82)
  val ed = new Person(&quot;Ed Chigliak&quot;, 20)

  test(&quot;nimoy == nimoy&quot;) { nimoy shouldBe nimoy }
  test(&quot;nimoy == nimoy2&quot;) { nimoy shouldBe nimoy2 }
  test(&quot;nimoy2 == nimoy&quot;) { nimoy2 shouldEqual nimoy }
  test(&quot;nimoy != shatner&quot;) { nimoy should not be shatner }
  test(&quot;shatner != nimoy&quot;) { shatner should not equals nimoy }
  test(&quot;nimoy != null&quot;) { nimoy should not equals null }
  test(&quot;nimoy != String&quot;) { nimoy should not equals &quot;Leonard Nimoy&quot; }
  test(&quot;nimoy != ed&quot;) { nimoy should not equals ed }
  test(&quot;nimoy es Person&quot;) {nimoy shouldBe a [String]}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Existen muchos <strong>Matcher</strong>, cubriendo aspectos como</p>
</div>
<div class="ulist">
<ul>
<li>
<p>La igualdad</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">result shouldEqual 3</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>EL tamaño</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">result should have length 3</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Tratamiento de Strings</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">string should startWith (&quot;Hello&quot;)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Mayor o menor que</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">one should be &lt; 7</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Tipologias</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">result1 shouldBe a [Tiger]</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Rangos</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">sevenDotOh should equal (6.9 +- 0.2)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Vacio</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">traversable shouldBe empty</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Contenido</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">List(1, 2, 3) should contain (2)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Agregaciones</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">List(1, 2, 3, 1) should contain only (1, 2, 3)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Secuencias</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">List(1, 2, 2, 3, 3, 1) should contain inOrderOnly (1, 2, 3)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ejecucion">Ejecucion</h3>
<div class="paragraph">
<p>Existen varias formas de ejecutar los test</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Con la consola de <strong>Scala</strong></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="console">scala&gt; run(new Test)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Por linea de comandos haciendo referencia al <strong>Runner</strong> de Scalatest</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="console">$ scala -cp scalatest-RELEASE.jar org.scalatest.run ExampleSpec</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>O con <strong>sbt</strong></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="console">sbt&gt; test</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_clases_case_fp">Clases Case (FP)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Un ejemplo de definición</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">abstract class Arbol
case class Sum(l: Arbol, r: Arbol) extends Arbol
case class Var(n: String) extends Arbol
case class Const(v: Int) extends Arbol</code></pre>
</div>
</div>
<div class="paragraph">
<p>Difieren de las clases normales en</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No es obligatorio utilizar la palabra clave <strong>new</strong> para crear instancias de estas clases.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">case class Persona(nombre: String)
val p = Person(&quot;Juan&quot;)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Los parametros del constructor son considerados campos <strong>val</strong>:</p>
</li>
<li>
<p>Se proveen por defecto los siguientes métodos</p>
<div class="ulist">
<ul>
<li>
<p>equals y hashCode &#8594; que trabajan sobre la estructura de las instancias y no sobre su identidad</p>
</li>
<li>
<p>toString &#8594; que imprime el valor de una forma <strong>tipo código</strong></p>
</li>
<li>
<p>apply &#8594; que sustituye al <strong>new</strong></p>
</li>
<li>
<p>accessor &#8594; ya que por defecto los parametros del constructor son considerados <strong>val</strong>, y en el caso de definirse como <strong>var</strong>, tambien los <strong>mutator</strong>.</p>
</li>
<li>
<p>unapply &#8594; hace facil el uso de estas clases con <strong>pattern matching</strong>, ya que permite la descomposicion mediante reconocimiento de patrones.</p>
</li>
<li>
<p>copy &#8594; Permite la clonacion de los objetos.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">p match {
        case Person(n) =&gt; println(n)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Algunos ejemplos de patrones a emplear</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">x match {
        // constantes
        case 0 =&gt; &quot;zero&quot;
        case true =&gt; &quot;true&quot;
        case &quot;hello&quot; =&gt; &quot;you said 'hello'&quot;
        case Nil =&gt; &quot;an empty List&quot;

        // secuencias
        case List(0, _, _) =&gt; &quot;a three-element list with 0 as the first element&quot;
        case List(1, _*) =&gt; &quot;a list beginning with 1, having any number of elements&quot;
        case Vector(1, _*) =&gt; &quot;a vector starting with 1, having any number of elements&quot;

        // tuplas
        case (a, b) =&gt; s&quot;got $a and $b&quot;
        case (a, b, c) =&gt; s&quot;got $a, $b, and $c&quot;

        // patrones de construccion
        case Person(first, &quot;Alexander&quot;) =&gt; s&quot;found an Alexander, first name = $first&quot;
        case Dog(&quot;Suka&quot;) =&gt; &quot;found a dog named Suka&quot;

        // patrones tipados
        case s: String =&gt; s&quot;you gave me this string: $s&quot;
        case i: Int =&gt; s&quot;thanks for the int: $i&quot;
        case f: Float =&gt; s&quot;thanks for the float: $f&quot;
        case a: Array[Int] =&gt; s&quot;an array of int: ${a.mkString(&quot;,&quot;)}&quot;
        case as: Array[String] =&gt; s&quot;an array of strings: ${as.mkString(&quot;,&quot;)}&quot;
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_constructores_auxiliares_2">Constructores Auxiliares</h3>
<div class="paragraph">
<p>No se permiten definir <strong>constructores auxiliares</strong>, dado que realmente cuando se "crea el objeto", hay que recordar que no se usa <strong>new</strong>, no se invoca al constructor, sino que realmente se invoca el método <strong>apply</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">//Dada la clase
case class Persona (var nombre: String, var edad: Int)

//Es lo mismo
val p = Person(&quot;John Smith&quot;, 30)

//que
val p = Person.apply(&quot;John Smith&quot;, 30)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Por lo tanto, si se quiere crear otro constructor para una <strong>clase case</strong>, habrá que definir otro método <strong>apply</strong>, como la <strong>clase case</strong> no es redefinible, se emplea un <strong>objeto de compañia</strong> (companion object)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">case class Persona (var nombre: String, var edad: Int)

//Se emplean los operadores *new* aunque son optativos para distinguir entre la clase y el objeto singleton
object Persona {
        def apply() = new Persona(&quot;&quot;, 0)
        def apply(nombre: String) = new Persona(nombre, 0)
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sentencias_case_condicionales_guards">Sentencias Case condicionales (Guards)</h3>
<div class="paragraph">
<p>Se pueden añadir sentencias <strong>if</strong> a los case en un <strong>match</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">num match {
        case x if x == 1 =&gt; println(&quot;one, a lonely number&quot;)
        case x if (x == 2 || x == 3) =&gt; println(x)
        case _ =&gt; println(&quot;some other value&quot;)
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_colecciones">Colecciones</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Los conceptos mas importantes da la hora de trabajar con <strong>Colecciones</strong> en <strong>Scala</strong> son</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Las hay mutables e inmutables, aunque de las inmutables hay alias y no se necesita añadir <strong>imports</strong></p>
</li>
<li>
<p>Predicado</p>
</li>
<li>
<p>Funcion anonima</p>
</li>
<li>
<p>Bucles implicitos</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Veamos un ejemplo de uso de una <strong>funcion predicado</strong>, definida como <strong>funcion anonima</strong> y aplicada a un método de una coleccion como es <strong>filter</strong>, que internamente recorre los elementos de la colecion con un <strong>bucle implicito</strong> para generar una nueva coleccion.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val numeros = List.range(1, 10)

//numeros = List(1, 2, 3, 4, 5, 6, 7, 8, 9)

val pares = numeros.filter(_ % 2 == 0)

//pares = List(2, 4, 6, 8)</code></pre>
</div>
</div>
<div class="paragraph">
<p>El bucle inplicito en <strong>filter</strong> seria algo como</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">for {
        item &lt;- list
        if item % 2 == 0
} yield item</code></pre>
</div>
</div>
<div class="paragraph">
<p>Las colecciones son parametrizables en cuanto al tipo de datos que contienen</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">List[Number](1, 2.0, 33D, 400L)
// List[java.lang.Number] = List(1, 2.0, 33.0, 400)</code></pre>
</div>
</div>
<div class="paragraph">
<p>El API es extenso, una vsision general, no lleva a los principales <strong>Traits</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Scala_collections_api.png" alt="Scala collections api">
</div>
</div>
<div class="paragraph">
<p>Como se ve el elemento de mayor jerarquia es <strong>Transversable</strong>, siendo la implementacion por defecto <strong>List</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val fruits = Traversable(&quot;apple&quot;, &quot;banana&quot;, &quot;orange&quot;)
// fruits = Traversable[String] = List(apple, banana, orange)</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_secuencias_seq">Secuencias (Seq)</h3>
<div class="paragraph">
<p>Empezemos por las secuencias</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Scala_sequence_api.png" alt="Scala sequence api">
</div>
</div>
<div class="paragraph">
<p>Este API se divide principalmente en dos secciones</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>IndexedSeq</strong> &#8594; Colecciones que permiten el acceso aleatorio a los elemento de forma eficiente, por ejemplo los <strong>Array</strong>, por defecto emplea <strong>Vector</strong> como implementacion</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val x = IndexedSeq(1,2,3)

//x = Vector(1, 2, 3)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>LinearSeq</strong> &#8594; Colecciones que son eficientes a la hora de dividir en <strong>head</strong> y <strong>tail</strong>. Por defecto implementa <strong>List</strong> que es una lista enlaza.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val seq = scala.collection.immutable.LinearSeq(1,2,3)
// seq = List(1, 2, 3)</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_indexedseq">IndexedSeq</h4>
<div class="paragraph">
<p>Colecciones que permiten el acceso aleatorio a los elemento de forma eficiente, por ejemplo los <strong>Array</strong>, por defecto emplea <strong>Vector</strong> como implementacion.</p>
</div>
<div class="paragraph">
<p>Las implementaciones de referencia son</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Vector &#8594; Inmutable</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val a = Vector(1, 2, 3)
// a = Vector(1, 2, 3)
val c = a.updated(0, 7)
// a = Vector(1, 2, 3)
// c = Vector(7, 2, 3)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>ArrayBuffer &#8594; Mutable</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">var nums = ArrayBuffer(1, 2, 3)
//nums = scala.collection.mutable.ArrayBuffer[Int] = ArrayBuffer(1, 2, 3)
nums += 4
//nums =  scala.collection.mutable.ArrayBuffer[Int] = ArrayBuffer(1, 2, 3, 4)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Además de <strong>Vector</strong> y <strong>ArrayBuffer</strong>, el API ofrece otras implementaciones como</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Range &#8594; Rango de valores enteros (inmutable)</p>
</li>
<li>
<p>String &#8594; secuencia de caracteres indexada (inmutable)</p>
</li>
<li>
<p>Arrray &#8594; Array de Java, que puede cambiar sus elementos, pero no de tamaño (mutable)</p>
</li>
<li>
<p>ArrayStack &#8594; Estructura LIFO que mejora el rendimineto de <strong>Stack</strong> (mutable)</p>
</li>
<li>
<p>StringBuilder &#8594; Permite construir <strong>Strings</strong> (mutable)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_linearseq">LinearSeq</h4>
<div class="paragraph">
<p>Colecciones que son eficientes a la hora de dividir en <strong>head</strong> y <strong>tail</strong> o en <strong>init</strong> y <strong>last</strong>, por ello estan pensadas para la recursividad.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Scala_linear_seq.png" alt="Scala linear seq">
</div>
</div>
<div class="paragraph">
<p>Por defecto implementa <strong>List</strong> que es una lista enlaza.</p>
</div>
<div class="paragraph">
<p>Las implementaciones de referencia son</p>
</div>
<div class="ulist">
<ul>
<li>
<p>List &#8594; Inmutable</p>
</li>
<li>
<p>ListBuffer &#8594; Mutable</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Además de <strong>List</strong> y <strong>ListBuffer</strong>, el API ofrece otras implementaciones como</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Queue &#8594; Estructura de datos FIFO (mutable / inmutable)</p>
</li>
<li>
<p>Stack &#8594; Estructura de datos LIFO (mutable / inmutable)</p>
</li>
<li>
<p>Stream &#8594; Similar a <strong>List</strong>, pero es perezosa y persistente. Su método <strong>tail</strong> es <strong>lazy</strong>. Es ideal para sequencias muy largas. (inmutable)</p>
</li>
<li>
<p>DoubleLinkedList &#8594; Como <strong>LinkedList</strong> pero bidireccional (mutable)</p>
</li>
<li>
<p>LinkedList &#8594; Como <strong>List</strong> pero mutable.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mapas">Mapas</h3>
<div class="paragraph">
<p>Colecciones <strong>clave/valor</strong> donde las <strong>claves</strong> son unicas.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Scala_maps_api.png" alt="Scala maps api">
</div>
</div>
<div class="paragraph">
<p>Tambien los hay mutables e inmutables</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val m = Map(1 -&gt; &quot;a&quot;, 2 -&gt; &quot;b&quot;)

//scala.collection.immutable.Map(1 -&gt; a, 2 -&gt; b)

val m = collection.mutable.Map(1 -&gt; &quot;a&quot;, 2 -&gt; &quot;b&quot;)

//scala.collection.mutable.Map(2 -&gt; b, 1 -&gt; a)</code></pre>
</div>
</div>
<div class="paragraph">
<p>El API ofrece las siguientes implementaciones</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HashMap &#8594; Emplea <strong>HashTree</strong> y <strong>HashTable</strong> para su implementacion (mutable / inmutable)</p>
</li>
<li>
<p>LinkedHasMap &#8594; Retorna los elementos en orden de insercion (mutable)</p>
</li>
<li>
<p>ListMap &#8594; Internamente emplea un LinearSeq. Los elementos son insertados en la cabecera de la coleccion, por lo que los retorna en orden inverso a la insercion (mutable / inmutable)</p>
</li>
<li>
<p>SortedMap &#8594; Igual que <strong>TreeMap</strong></p>
</li>
<li>
<p>TreeMap &#8594;  Implementacion de arbolo rojo-negro (inmutable)</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>WeakHashMap &#8594; Implementa <strong>WeakHashMap</strong> de java, que no guarda referencias directas a los objetos que se le pasan como claves, cuando las claves no se referencian desde fuera, los elementos del <strong>WeakHashMap</strong> se pierden.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sets">Sets</h3>
<div class="paragraph">
<p>Colecciones que no admiten repetidos.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Scala_set_api.png" alt="Scala set api">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val set = Set(1, 2, 3)

//scala.collection.immutable.Set(1, 2, 3)

val s = collection.mutable.Set(1, 2, 3)

//scala.collection.mutable.Set(1, 2, 3)</code></pre>
</div>
</div>
<div class="paragraph">
<p>El API ofrece las siguientes implementaciones</p>
</div>
<div class="ulist">
<ul>
<li>
<p>BitSet &#8594; Set de enteros positivos. Permite optimizar el uso de la memoria para los Set de enteros. (mutable / inmutable)</p>
</li>
<li>
<p>HashSet &#8594; Emplea <strong>HashTree</strong> y <strong>HashTable</strong> para su implementacion (mutable / inmutable)</p>
</li>
<li>
<p>LinkedHasSet &#8594; Retorna los elementos en orden de insercion (mutable)</p>
</li>
<li>
<p>ListSet &#8594; implementado con un List (inmutable)</p>
</li>
<li>
<p>TreeSet &#8594; Emplea un SortedSet</p>
</li>
<li>
<p>SortedSet &#8594;</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_procesamiento_paralelo">Procesamiento Paralelo</h3>
<div class="paragraph">
<p>El API proporciona las siguientes implementaciones de colecciones que procesan los datos de forma paralela</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ParHashMap</p>
</li>
<li>
<p>ParHashSet</p>
</li>
<li>
<p>ParIterable</p>
</li>
<li>
<p>ParMap</p>
</li>
<li>
<p>ParRange</p>
</li>
<li>
<p>ParSeq</p>
</li>
<li>
<p>ParSet</p>
</li>
<li>
<p>ParVector</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>El procesamiento en paralelo, divide los elementos de la coleccion para el procesamiento, al concluir todos los precesos, los recombina para obtener la solucion.</p>
</div>
<div class="paragraph">
<p>No se recomienda su uso para casos en los que el orden del procesamiento de los elementos es importante</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val v = Vector.range(0, 10)
v.foreach(print)
//0123456789
v.par.foreach(print)
//0231564789</code></pre>
</div>
</div>
<div class="paragraph">
<p>Y si se recomienda, en aquellos en los que el orden no es importante, sino el resultado final</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val v = Vector.range(0, 10)
v.sum
//45
v.par.sum
//45</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_métodos">Métodos</h3>
<div class="paragraph">
<p>Para trabajar con las colecciones, se dispone de un gran abanico de métodos, que se pueden dividir en grupos segun la funcionalidad que proporcionan</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Métodos de filtrado:</p>
<div class="ulist">
<ul>
<li>
<p>collect f&#8594; Aplica <strong>pattern matching</strong> a los elementos de la coleccion, generando una nueva coleccion con los resultados.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">scala&gt; List(&quot;hello&quot;, 1, true, &quot;world&quot;) collect { case s: String =&gt; s }
// List[String] = List(hello, world)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>diff c&#8594; Retorna la direfencia entre la coleccion desde la que se invoca y la coleccion que se pasa por parametro.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val low = (1 to 5) toSet

val medium = (3 to 7) toSet

val min = low.diff(medium)
// Set(1, 2)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>distinct &#8594; Retorna una coleccion en la que se han quitado los duplicados</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">List(1,2,3,2,1).distinct
// List(1, 2, 3)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>drop n&#8594; Retorna un nueva coleccion donde se ha eliminado los primeros n elementos, donde n es un numero que se pasa por parametro.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val numbers = List(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
numbers.drop(5)
// List[Int] = List(6, 7, 8, 9, 10)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>dropWhile p&#8594; Retorna una collecion en la que se ha borrado el primer elemento que satisface el predicado.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val numbers = List(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
numbers.dropWhile(_ % 2 != 0)
// List[Int] = List(2, 3, 4, 5, 6, 7, 8, 9, 10)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>filter p&#8594; Retorna nacoleccion con todos los elementos que cumplen el predicado.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val numbers = List(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
numbers.filter(_ % 2 == 0)
//numbers.filter((i: Int) =&gt; i % 2 == 0)
// List[Int] = List(2, 4)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Un ejemplo de uso con mapas</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val extensions = Map(&quot;steve&quot; -&gt; 100, &quot;bob&quot; -&gt; 101, &quot;joe&quot; -&gt; 201)
extensions.filter((namePhone: (String, Int)) =&gt; namePhone._2 &lt; 200)
// scala.collection.immutable.Map[String,Int] = Map((steve,100), (bob,101))

//Empleando patter matching
extensions.filter({case (name, extension) =&gt; extension &lt; 200})
res0: scala.collection.immutable.Map[String,Int] = Map((steve,100), (bob,101))</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>filterNot p&#8594; Retorna nacoleccion con todos los elementos que no cumplen el predicado.</p>
</li>
<li>
<p>find p&#8594; Retorna un <strong>Option</strong> (Some[T]) del primer elemento que encuentra que cumpla el predicado, y <strong>None</strong> si no lo encuentra.</p>
</li>
<li>
<p>foldLeft(n)(op) &#8594; Aplica una operacion a los elementos, comenzando por uno concreto y recorriendo la coleccion de izquierda a derecha</p>
</li>
<li>
<p>foldRight(n)(op) &#8594; Aplica una operacion a los elementos, comenzando por uno concreto y recorriendo la coleccion de derecha a izquierda</p>
</li>
<li>
<p>head &#8594; Retorna el primer elemento de la coleccion o <strong>NoSuchElementException</strong> si esta vacia.</p>
</li>
<li>
<p>headOption &#8594; Retorna el primer elemento de la coleccion como un Option (Some[T]) o <strong>None</strong> si esta vacia.</p>
</li>
<li>
<p>init &#8594; Retorna los primeros elementos de la coleccion, exceptuando el ultimo. Retorna un <strong>UnsupportedOperationException</strong> si esta vacia.</p>
</li>
<li>
<p>intersect c&#8594; Retorna una coleccion con los elementos comunes a dos colecciones.</p>
</li>
<li>
<p>last &#8594; Retorna el ultimo elemento de la coleccion o <strong>NoSuchElementException</strong> si esta vacia</p>
</li>
<li>
<p>lastOption &#8594; Retorna el ultimo elemento de la coleccion como un Option (Some[T]) o <strong>None</strong> si esta vacia.</p>
</li>
<li>
<p>reduceLeft op&#8594; Aplica una operacion a los elementos comenzando por el primero</p>
</li>
<li>
<p>reduceRight op&#8594; Aplica una operacion a los elementos, comenzando por el ultimo</p>
</li>
<li>
<p>slice (from, to) &#8594; Retorna el trozo de coleccion desde (from) hasta (to)</p>
</li>
<li>
<p>tail &#8594; Retorna todos los elementos de la coleccion excepto el primero</p>
</li>
<li>
<p>take n &#8594; Retorna los primeros n elementos de la coleccion</p>
</li>
<li>
<p>takeWhile p &#8594; Retorna elementos mientras el predicado se cumpla parando en el momento que no se cumpla.</p>
</li>
<li>
<p>union c &#8594; Retorna la coleccion resultante de unir dos colecciones.</p>
<div class="ulist">
<ul>
<li>
<p>Métodos de tranformación:</p>
</li>
</ul>
</div>
</li>
<li>
<p>+= x &#8594; Añade un elemento a la coleccion</p>
</li>
<li>
<p>+= (x,y,z) &#8594; Añade todos los elementos a la coleccion</p>
</li>
<li>
<p>++= c &#8594; Añade todos los elementos de la coleccion a la coleccion inicial</p>
</li>
<li>
<p>-= x &#8594; Borra un elemento de la coleccion</p>
</li>
<li>
<p>-= (x,y,z) &#8594; Borra todos los elementos de la coleccion</p>
</li>
<li>
<p>--= c &#8594; Borra todos los elementos de la coleccion en la coleccion inicial</p>
</li>
<li>
<p>c(n) = x &#8594; Asigna un valor al elemento x de la coleccion</p>
</li>
<li>
<p>++ c &#8594; Crea una nueva coleccion con los elementos de ambas colecciones.</p>
</li>
<li>
<p>:+ e &#8594; Crea una nueva coleccion en la que ha añadido el elemento e</p>
</li>
<li>
<p>+: e &#8594; Crea una nueva coleccion en la que ha añadido el elemento e al comienzo</p>
</li>
<li>
<p>e :: list &#8594; Retorna una List a la que al cominezo ha añadido e (solo con List)</p>
</li>
<li>
<p>append(e1, e2) &#8594; Añade al final de la coleccion los elementos indicados</p>
</li>
<li>
<p>appendAll c &#8594; Añade al final de la coleccion los elementos de la nueva coleccion</p>
</li>
<li>
<p>insert (n, e1, e2) &#8594; Inserta los elementos a partir de la posicion n</p>
</li>
<li>
<p>insertAll(n, c) &#8594; Añade los elementos de la nueva coleccion a la coleccion existente a partir de la posicion n</p>
</li>
<li>
<p>prepend(e1, e2) &#8594; Añade al principio de la coleccion los elementos indicados</p>
</li>
<li>
<p>prependAll c &#8594; Añade al principio de la coleccion los elementos de la nueva coleccion</p>
</li>
<li>
<p>updated(e1, e2) &#8594; Retorna una nueva coleccion con los elementos indicados añadidos</p>
</li>
<li>
<p>clear &#8594; Borra todos los elementos de la coleccion</p>
</li>
<li>
<p>remove n &#8594; Borra el elemento en la posicion n</p>
</li>
<li>
<p>remove(n, len) &#8594; Borra el numero de elementos indicado con len desde la posición n</p>
</li>
<li>
<p>flatMap &#8594; Aplica a cada elemento de la coleccion un funcion (como map), retornado la coleccion aplanada de la transformacion realizada. Se emplea sonbre colecciones que contienen colecciones, para transformar y aplanar a la vez.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val nestedNumbers = List(List(1, 2), List(3, 4))
// nestedNumbers: List[List[Int]] = List(List(1, 2), List(3, 4))

nestedNumbers.flatMap(x =&gt; x.map(_ * 2))
//res0: List[Int] = List(2, 4, 6, 8)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>map f&#8594; Retorna un nueva coleccion aplicando una funcion a todos los elementos de la coleccion</p>
</li>
<li>
<p>reverse &#8594; Retorna la coleccion en orden inverso al actual.</p>
</li>
<li>
<p>sort &#8594; Retorna una coleccion estableciendo el orden por defecto, de menor a mayor</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val xs = Seq(1, 5, 3, 4, 6, 2)

xs.sorted //1,2,3,4,5,6</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>sortWith &#8594; Retorna una coleccion con los elementos ordenados segun la funcion definida, esta funcion, tendra dos parametros de entrada, el elemento actual y el elemento siguiente</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val xs = Seq(1, 5, 3, 4, 6, 2)

xs.sortWith(_&lt;_) //1,2,3,4,5,6</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>sortBy f &#8594; Ordena por un campo descrito por la función, valido para objetos complejos</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">case class Person(val name:String, val age:Int)

val ps = Seq(Person(&quot;John&quot;, 32), Person(&quot;Bruce&quot;, 24), Person(&quot;Cindy&quot;, 33), Person(&quot;Sandra&quot;, 18))

ps.sortBy(_.age)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>zip c &#8594; Crea una coleccion formada por <strong>Pair</strong> o <strong>Tuple2</strong> compuestos con los elementos de las dos colecciones</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">List(1, 2, 3).zip(List(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;))
// List[(Int, String)] = List((1,a), (2,b), (3,c))</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>unzip &#8594; Crea dos colecciones partiendo de una coleccion de elementos de tipo <strong>Tuple2</strong></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">List((1,&quot;a&quot;), (3, &quot;b&quot;), (4, &quot;d&quot;)).unzip
// (List[Int], List[String]) = (List(1, 3, 4),List(a, b, d))</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>zipWithIndex &#8594; Como <strong>zip</strong>, pero trabaja con el indice de la coleccion, creando las tuplas como (elemento, posicion)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">List(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;).zipWithIndex
// List[(Int, String)] = List((a,0), (b,1), (c,2))</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Métodos de agrupación:</p>
<div class="ulist">
<ul>
<li>
<p>groupBy p &#8594; Retorna un mapa con dos colecciones, donde una coleccion contiene los elementos que no lo cumplen el predicado y la otra los que si lo cumplen.</p>
</li>
<li>
<p>partition p &#8594; Retorna dos colecciones acorde al predicado, una que cumple y otra que no cumple.</p>
</li>
<li>
<p>sliding</p>
</li>
<li>
<p>span p &#8594; Retorna una coleccion de dos colecciones, la primera es la que cumple con <strong>takeWhile p</strong>, y la segunda la que cumple con <strong>dropWhile p</strong></p>
</li>
<li>
<p>splitAt n &#8594; Retorna una coleccion con dos colecciones, que son el resultado de partir por el elemento n.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Métodos informativos:</p>
<div class="ulist">
<ul>
<li>
<p>canEqual</p>
</li>
<li>
<p>contains</p>
</li>
<li>
<p>containsSlice</p>
</li>
<li>
<p>count &#8594; cuenta todos los elementos que cumplen una determinada funcion predicado</p>
</li>
<li>
<p>endsWith</p>
</li>
<li>
<p>exists &#8594; retorna True si el predicado se cumple para algun elemento</p>
</li>
<li>
<p>forAll p &#8594; retorna True si el predicado se cumple para todos los elementos</p>
</li>
<li>
<p>hasDefiniteSize &#8594; Retorna true si la coleccion tiene un tamaño definido, retorna false para los <strong>Stream</strong></p>
</li>
<li>
<p>indexOf &#8594;</p>
</li>
<li>
<p>indexOfSlice</p>
</li>
<li>
<p>indexWhere</p>
</li>
<li>
<p>isDefinedAt</p>
</li>
<li>
<p>isEmpty &#8594; Retorna true si la coleccion esta vacia.</p>
</li>
<li>
<p>lastIndexOf</p>
</li>
<li>
<p>lastIndexOfSlice</p>
</li>
<li>
<p>lastIndexWhere</p>
</li>
<li>
<p>max &#8594; Retorna el mayor elemento de la coleccion</p>
</li>
<li>
<p>min &#8594; Retorna el menor elemento de la coleccion</p>
</li>
<li>
<p>nonEmpty &#8594; Retorna true si la coleccion no esta vacia</p>
</li>
<li>
<p>product &#8594; Retorna la multiplicacion de todos los elementos de la coleccion</p>
</li>
<li>
<p>segmentLength</p>
</li>
<li>
<p>size &#8594; retorna el tamaño de la coleccion</p>
</li>
<li>
<p>startsWith</p>
</li>
<li>
<p>sum &#8594; Retorna la suma de todos los elementos de la coleccion</p>
</li>
</ul>
</div>
</li>
<li>
<p>Otros:</p>
<div class="ulist">
<ul>
<li>
<p>par &#8594; Crea una coleccion de procesamineto paralelo de la coleccion.</p>
</li>
<li>
<p>view &#8594; Crea una coleccion perezosa de la coleccion. Ideal para procesamiento de grandes cantidades de datos</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">(1 to 1000000000).view.filter(_ % 2 == 0).take(10).toList
//List[Int] = List(2, 4, 6, 8, 10, 12, 14, 16, 18, 20)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>flatten &#8594; Convierte una lista de listas, en un unica lista.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">List(List(1, 2), List(3, 4)).flatten
// List[Int] = List(1, 2, 3, 4)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>foreach f &#8594; Itera sobre los elementos de la coleccion, aplicando una funcion a cada uno</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val x = Vector(1, 2, 3)
x.foreach(i =&gt; println(i))
x.foreach(println(_))</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>mkString &#8594; Crea un String de la coleccion.</p>
</li>
<li>
<p>range(n, m) &#8594; Permite popular una coleccion con un rango de valores numerico, indicando un paso</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">Array.range(1, 5)
// Array[Int] = Array(1, 2, 3, 4)
Vector.range(0, 10, 2)
// collection.immutable.Vector[Int] = Vector(0, 2, 4, 6, 8)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Solo para Maps</p>
<div class="ulist">
<ul>
<li>
<p>- k &#8594; Retorna un nuevo mapa, donde se ha elminado el elemento con clave k</p>
</li>
<li>
<p>- (k1, k2, k3) &#8594; Retorna un nuevo mapa, donde se han elminado los elementos con claves k1, k2 y k3</p>
</li>
<li>
<p>&#8201;&#8212;&#8201;c &#8594; Retorna un nuevo mapa, donde se han borrado los elementos cuyas claves estan definidas en la coleccion</p>
</li>
<li>
<p>+= (k &#8594; v) &#8594; Añade un nuevo elemento al mapa</p>
</li>
<li>
<p>+= (k1 &#8594; v1, k2 &#8594; v2) &#8594; Añade dos nuevos elementos al mapa</p>
</li>
<li>
<p>++= c &#8594; Añade los elementos de la coleccion al mapa</p>
</li>
<li>
<p>++= List(3 &#8594; "c")</p>
</li>
<li>
<p>-= k &#8594; Borra el elemento del mapa con clave k</p>
</li>
<li>
<p>-= (k1, k2, k3) &#8594; Borra los elementos del mapa con claves k1, k2 y k3</p>
</li>
<li>
<p>--= c &#8594; Borra los elementos del mapa tomando como claves los elementos de la coleccion</p>
</li>
<li>
<p>m(k) &#8594; Retorna el valor asociado a la clave k</p>
</li>
<li>
<p>get k &#8594; Retorna el valor asociado a la clave K como Option (Some[T])</p>
</li>
<li>
<p>isDefinedAt k &#8594; Retorna tru si el mapa contiene la clave k</p>
</li>
<li>
<p>keys &#8594; Retorna las claves como Iterable</p>
</li>
<li>
<p>KeySet &#8594; Retorna la claves con Set</p>
</li>
<li>
<p>mapValues f &#8594; Retorna un nuevo map aplicando f a todos los valores</p>
</li>
<li>
<p>values &#8594; Retorna os valores del map como Iterable.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Es facil con un bucle <strong>for</strong> iterar sobre un <strong>Map</strong>, dado que lo unico que hay que indicar es que las variables que apuntan a cada elemento, son una <strong>Tupla</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val names = Map(&quot;fname&quot; -&gt; &quot;Robert&quot;, &quot;lname&quot; -&gt; &quot;Goren&quot;)
for ((k,v) &lt;- names) {
        println(s&quot;key: $k, value: $v&quot;)
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_operaciones_mutables_sobre_colecciones_inmutables">Operaciones mutables sobre colecciones inmutables</h3>
<div class="paragraph">
<p>Se puede producir la siguiente situacion, añadir elementos sobre una coleccion inmutable, porque se referencia con <strong>var</strong>, en vez de con <strong>val</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">var sisters = Vector(&quot;Melinda&quot;)
// sisters: collection.immutable.Vector[String] = Vector(Melinda)
sisters = sisters :+ &quot;Melissa&quot;
//sisters: collection.immutable.Vector[String] = Vector(Melinda, Melissa)
sisters = sisters :+ &quot;Marisa&quot;
//sisters: collection.immutable.Vector[String] = Vector(Melinda, Melissa, Marisa)</code></pre>
</div>
</div>
<div class="paragraph">
<p>No es que la coleccion sea inmutable, sino que se estan creando nuevas coleccion cada vez que se añade un elemento, es decir lo anterior es similar a</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">var sisters = Vector(&quot;Melinda&quot;)
sisters = Vector(&quot;Melinda&quot;, &quot;Melissa&quot;)
sisters = Vector(&quot;Melinda&quot;, &quot;Melissa&quot;, &quot;Marisa&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Lo que no se podria realizar es</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">var sisters = Vector(&quot;Melinda&quot;)
sisters(0) = &quot;Molly&quot;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_iterators">Iterators</h3>
<div class="paragraph">
<p>Son un tipo de coleccion, no se emplean como en java con un bucle while y el método hasNext, sino que tienen métodos como el resto.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val it = Iterator(1,2,3)
it.foreach(println)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Una de los grandes usos que se le da, es la transformacion a otro tipo de coleccion con los métodos: toArray, toBuffer, toIndexedSeq, toIterable, toIterator, toList, toMap, toSeq, toSet, toStream, toString y toTraversable.</p>
</div>
</div>
<div class="sect2">
<h3 id="_arrays">Arrays</h3>
<div class="paragraph">
<p>Los arrays se define con la sintaxis <strong>Array[T]</strong> en lugar de <strong>T[]</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">def sort(xs: Array[Int]) {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Los accesos a los elementos del array, se escriben <strong>a(i)</strong> en lugar de <strong>a[i]</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">xs(0);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Los Arrays, son instancias de tipo <strong>Seq[T]</strong>, por lo que se dispone de todas las funciones de esta tipologia.</p>
</div>
<div class="sect3">
<h4 id="_arrays_multidimensionales">Arrays Multidimensionales</h4>
<div class="paragraph">
<p>Se definen con el método <strong>ofDim</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val array = Array.ofDim[Int](2,2)
array(0)(0) = 0
array(0)(1) = 1
array(1)(0) = 2
array(1)(1) = 3</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se pueden recorrer con un bucle for y tantos contadores como dimensiones.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">for {
        i &lt;- 0 to 1
        j &lt;- 0 to 1
} println(s&quot;($i)($j) = ${array(i)(j)}&quot;)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_listas">Listas</h3>
<div class="paragraph">
<p>Son un tipo de coleccion especial, que esta compuesto por celdas contiguas y que finalizan con el valor <strong>Nil</strong></p>
</div>
<div class="paragraph">
<p>Se pueden definir de dos formas, la primera con <strong>List</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val x = List(1, 2, 3)</code></pre>
</div>
</div>
<div class="paragraph">
<p>La segunda mas primitiva</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val y = 1 :: 2 :: 3 :: Nil</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tupla">Tupla</h3>
<div class="paragraph">
<p>Tipo de dato que permite manejar objetos de distinta tipologia.</p>
</div>
<div class="paragraph">
<p>Permite por ejemplo manejar mas de un objeto sin tener que definir una tipologia particular, muy útil a la hora de retornar datos en un método.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">def sumaRestaMultiplicacion(x: Int, y: Int): (Int, Int, Int) = {
        return (x + y, x - y, x * y)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se pueden definir unicamente con <strong>(,)</strong> o empleando <strong>Tuple</strong> seguido del numero de elementos de la Tupla</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">Tuple3(1,2,3)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se han definido hasta <strong>Tuple22</strong></p>
</div>
<div class="paragraph">
<p>Para acceder a los elementos de la tupla se emplea la sintaxis <strong>_num</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val t = (3, &quot;Three&quot;, new Person(&quot;Al&quot;))
// t = (Int, java.lang.String, Person) = (3,Three,Person(Al))
t._1
// Int = 3</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_futuros">Futuros</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Se emplean para realizar operaciones costosas en segundo plano sin que se bloquee el hilo de ejecución principal.</p>
</div>
<div class="paragraph">
<p>Se basan en la clase <strong>scala.concurrent.Future</strong>, que permite encapsular la tarea de larga duracion, para que se ejecute en otro hilo</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val f: Future[List[Int]] = Future {
        tareaDeLargaDuracion
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La clase <strong>Furute</strong> es generica, teniendo que indicar el tipo de dato retornado por la tarea de larga duracion, en este caso <strong>List[Int]</strong></p>
</div>
<div class="paragraph">
<p>Necesitan de un contexto de ejecucion, donde se definan las caracteristicas del <strong>pool de thread</strong> a emplear por los <strong>Futuros</strong>, el API define uno por defecto, que habra que declarar</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">import scala.concurrent.ExecutionContext.Implicits.global</code></pre>
</div>
</div>
<div class="paragraph">
<p>Este <strong>pool de thread</strong>, basado en <strong>ForkJoinPool</strong> de Java, define un numero de threads igual al numero de procesadores disponibles para la ejecucion, lo cual se define con la caracteristica <strong>Runtime.availableProcessors</strong>, esta propiedad puede ser modificada con el atributo de la maquina virtual <strong>scala.concurrent.context.minThreads</strong>.</p>
</div>
<div class="paragraph">
<p>Hay dos formas de ejecución de los Futuros:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Una <strong>sincrona</strong>, que parará la ejecución del hilo desde donde se lance, hasta que termine la ejecución de la tarea envuelta por el <strong>Futuro</strong>, cosa poco interesante a priorí, ya que sino no empleariamos los futuros.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">Await.result(f,Duration(2.0, TimeUnit.SECONDS))</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Otra <strong>asincrona</strong>, que se basará en <strong>callbacks</strong> que se ejecutará de forma paralela. Los posibles <strong>callbacks</strong> a definir son:</p>
<div class="ulist">
<ul>
<li>
<p>onComplete</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">f onComplete {
        case Success(list) =&gt; print(list)
        case Failure(e)    =&gt; println(e.getMessage)
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>onSuccess</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">f onSuccess {
        case list =&gt; for (item &lt;- list) println(item)
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>onFailiure</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">f onFailure {
        case e =&gt; println(e.getMessage)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se puede definir en un formato reducido</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val f = Future {
        tareaDeLargaDuracion
} andThen {
        case Success(list) =&gt; println(list)
        case Failure(e) =&gt; println(e.getMessage)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se puede simular una tarea de larga duracion durmiendo el hilo</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">def tareaDeLargaDuracion: List[Int] = {
    Thread.sleep(4000)
    List(1, 2, 3)
    //throw new Exception(&quot;Error al procesar la tarea de larga duracion&quot;)
  }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_actores">Actores</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Son otra forma de gestionar la concurrencia en <strong>Scala</strong>.</p>
</div>
<div class="paragraph">
<p>Los <strong>Actores</strong> son componentes con estado que procesan en un hilo distinto, pero de manera <strong>secuencial</strong> una cola de mensajes, asociando (o no) a cada uno de estos mensajes un cierto algoritmo.</p>
</div>
<div class="paragraph">
<p>Actualmente se esta incluyendo el API de <strong>Akka Actors</strong> dentro de <strong>Scala</strong>, pero de momento hay que incluirlo como dependencia, la documentacion <a href="http://doc.akka.io/docs/akka/2.0/scala/actors.html">aquí</a></p>
</div>
<div class="paragraph">
<p>Para incluir el API de <strong>Akka Actors</strong> con <strong>SBT</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">libraryDependencies += &quot;com.typesafe.akka&quot; % &quot;akka-actor_2.11&quot; % &quot;2.4.17&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Para definir un <strong>Actor</strong> con este API hay que heredar del Trait <strong>akka.actor.Actor</strong>, que obliga a implementar el método <strong>receive</strong>, donde se procesan los mensajes</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class HelloActor extends Actor {
        def receive = {
                case &quot;hello&quot; =&gt; println(&quot;hello back at you&quot;)
                case _ =&gt; println(&quot;huh?&quot;)
        }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Para instanciarlo, se hace a traves de una instancia de la clase <strong>ActorSystem</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val system = ActorSystem(&quot;HelloSystem&quot;)

val helloActor = system.actorOf(Props[HelloActor], name = &quot;helloactor&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>El método <strong>actorOf</strong> retorna una referencia a un objeto <strong>ActorRef</strong></p>
</div>
<div class="paragraph">
<p>El segundo parametro del método <strong>actorOf</strong> es opcional, permite dar un nombre al actor de cara a monitorizar su estado.</p>
</div>
<div class="paragraph">
<p>Een el anterior ejemplo, se esta creando un <strong>Actor</strong> que no define propiedades de construcción, si el actor las definiese, la sintaxis sería</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val myActor = system.actorOf(Props(new HelloActor(&quot;...&quot;)), name = &quot;myactor&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Para enviar mensajes, se emplea el método <strong>!</strong> del objeto <strong>ActorRef</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">helloActor ! &quot;hello&quot;
helloActor ! &quot;buenos dias&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Para parar el sistema de Actores, se ha delanzar el comando <strong>terminate</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">system.terminate()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si se desea parar algun actor en concreto dentro del sistema</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">system.stop(helloResponseActor)</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_respuestas">Respuestas</h3>
<div class="paragraph">
<p>Los <strong>Actores</strong> pueden responder al cliente que lanzo la ejecución, pero dado que no realizarán la ejecución en el mismo hilo, se precisarán de <strong>Futuros</strong>.</p>
</div>
<div class="paragraph">
<p>Para realizar la petición y definir un callback que procese la respuesta, la petición se ha de hacer con <strong>akka.pattern.ask</strong>, la cual tiene un parametro implicito de tipo <strong>Timeout</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val system = ActorSystem(&quot;HelloResponseSystem&quot;)
val helloResponseActor = system.actorOf(Props[HelloResponseActor], name = &quot;helloResponseActor&quot;)
implicit val timeout = Timeout.apply(2, TimeUnit.SECONDS)
val future = ask(helloResponseActor, &quot;hello&quot;)
future onComplete {
        case Success(mensaje) =&gt; println(mensaje)
        case Failure(e)    =&gt; println(e.getMessage)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La respuesta desde el <strong>Actor</strong>, se realizará a través del objeto <strong>sender</strong>, definido por el API en todos los <strong>Actor</strong>, que es un <strong>ActorRef</strong> y por tanto tiene el método <strong>!</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class HelloResponseActor extends Actor {
        def receive = {
                case &quot;hello&quot; =&gt; { println(&quot;hello back at you&quot;); sender ! &quot;continue&quot; }
                case _       =&gt; println(&quot;huh?&quot;)
        }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tipos_parametricos_generics">Tipos Parametricos (Generics)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Permiten definir clases que emplean variables de tipos sin especificar.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Stack[T] {
  var elems: List[T] = Nil
  def push(x: T) { elems = x :: elems }
  def top: T = elems.head
  def pop() { elems = elems.tail }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Estas variables de los tipos, deben ser especificadas en el momento de la instanciación</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val stack = new Stack[Int]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se pueden aplicar reglas sobre los tipos que afecten a su jerarquia, así se puede indicar que</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Un tipo debe pertener a una jerarquia con el operador <strong>&lt;:</strong></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Animal {}
class Perro extends Animal {}

//El &lt;: indica que T debe ser un subtipo de Animal
class Lista[T &lt;: Animal] {}

var listaPerro = new Lista[Perro]

var listaAnimal = new Lista[Animal]

//No esta permitido por ejemplo
//var listaAny = new Lista[Any]</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Un tipo debe ser supertipo de otro con el operador <strong>&gt;:</strong></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Animal {}

class Lista[T &gt;: Animal] {}

var listaAny = new Lista[Any]

var listaAnimal = new Lista[Animal]

//No esta permitido por ejemplo
//var listaPerro = new Lista[Perro]</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_covarianza_contravarianza">Covarianza/Contravarianza</h3>
<div class="paragraph">
<p>Además el API permite definir varianza y contravarianza aplicada a los tipos, de tal forma que se cumpla que</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Covarianza</strong> &#8594; Si un tipo A (Perro), es subtipo de otro B (Animal), otro tipo parametrizado con A (List[Perro]), será subtipo de ese mismo tipo parametrizado con B (List[Animal]), puediendo por tanto referenciar con variables del tipo parametrizado con B (List[Animal]) a objetos del tipo parametrizado con A (List[Perro]).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Para definir la covarianza se emplea el prefijo <strong>+</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Animal {}
class Perro extends Animal {}

class Lista[+T] {}

var listaPerro = new Lista[Perro]

var listaAnimal = new Lista[Animal]

listaAnimal = listaPerro</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Contravarianza</strong> &#8594; Si un tipo A (Animal), es subtipo de otro B (Any), otro tipo parametrizado con B (List[Any]), será subtipo de ese mismo tipo parametrizado con A (List[Animal]), puediendo por tanto referenciar con variables del tipo parametrizado con A (List[Animal]) a objetos del tipo parametrizado con B (List[Any]).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Para definir la contravarianza se emplea el prefijo <strong>-</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class Animal {}

class Lista[-T] {}

var listaAny = new Lista[Any]

var listaAnimal = new Lista[Animal]

listaAnimal = listaAny</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conversiones">Conversiones</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Se proporciona el método <strong>asInstanceOf[T]</strong> que permite realizar la conversion de tipos</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">var p = new Persona

var p1 = p.asInstanceOf[Persona]</code></pre>
</div>
</div>
<div class="paragraph">
<p>De no pertenecer a la jerarquia la clase a la que se quiere convertir, dará un <strong>ClassCastException</strong>.</p>
</div>
<div class="paragraph">
<p>Por supuesto, se puede aplicar tambien para los tipos numericos, dado que no existen los primitivos</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val a = 10 //a: Int = 10

val b = a.asInstanceOf[Long] //b: Long = 10

val c = a.asInstanceOf[Byte] //c: Byte = 10</code></pre>
</div>
</div>
<div class="paragraph">
<p>Todos los tipos numericos tienen métodos para convertir el objeto actual a otro tipo numerico, incluido <strong>char</strong>: toByte, toChar, toDouble, toFloat, toInt, toLong y toShort</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implicitos">Implicitos</h2>
<div class="sectionbody">
<div class="paragraph">
<p>El API de Scala define la palabra reservada <strong>implicit</strong>, la cual se puede aplicar a:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>valores</p>
</li>
<li>
<p>métodos</p>
</li>
<li>
<p>clases</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_valores_implicitos">Valores Implicitos</h3>
<div class="paragraph">
<p>Permiten extraer de la definición de un método el valor por defecto que tomará alguno de sus parametros.</p>
</div>
<div class="paragraph">
<p>Por un lado se define en el contexto (ámbito) del método el valor implicito</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">implicit val valorParametroImplicito: Int = 0</code></pre>
</div>
</div>
<div class="paragraph">
<p>Y por otro se define el método que haga uso de dicho valor implicito</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">def metodo(parametroNormal: Int)(implicit parametroImplicito: Int): Int =
  println (parametroNormal + &quot;-&quot; + parametroImplicito)</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Ojo!!! que el valor implicito se resuelve por tipo, luego si hubiese dos valores implicitos de tipo Int en este caso, se produciria un error de compilación de ambiguedad</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_métodos_implicitos">Métodos Implicitos</h3>
<div class="paragraph">
<p>Son métodos que se definen en un determinado ambito que se ofrecen al compilador, como capaces de solventar referencias no especificadas</p>
</div>
<div class="paragraph">
<p>Entre otras cosas, permiten realizar conversiones entre tipos</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">//Tipologia que pretende extender las caracteristicas del tipo *Int* de Scala
class MyInteger(i: Int) {
        def myNewMethod = println(&quot;hello from myNewMethod&quot;)
}

//Wrapper implicito, que permite convertir un Int en un MyInteger, para permitir que se puedan invocar funcionalidades de MyInteger desde un Int
implicit def int2MyInt(i: Int) = new MyInteger(i)

//Se esta empleando de forma implicita la conversion a MyInteger
1.myNewMethod</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_clases_implicitas">Clases Implicitas</h3>
<div class="paragraph">
<p>Permiten extender funcionalidades de clases ya definidas, envolviendolas de forma implicita</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class ClaseExistente {
  def method1(): Int = 1
  def method2(n:Int): Boolean = true
}
implicit class ClaseImplicitaConMetodosExtra(claseExistente: ClaseExistente){
  def method3(n: Int): Boolean = false
  def method4(): Int = 0
  def method5(): Int = claseExistente.method1() * 2
}

val instanciaDeClaseExistenteImplicitamenteDotadaDeMasMetodos = new ClaseExistente

instanciaDeClaseExistenteImplicitamenteDotadaDeMasMetodos.method1()
instanciaDeClaseExistenteImplicitamenteDotadaDeMasMetodos.method2(5)
instanciaDeClaseExistenteImplicitamenteDotadaDeMasMetodos.method3(2)
instanciaDeClaseExistenteImplicitamenteDotadaDeMasMetodos.method4()
instanciaDeClaseExistenteImplicitamenteDotadaDeMasMetodos.method5()</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Ojo!!! No se pueden sobrescribir implementaciones de la clase que se esta vitaminando</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_string">String</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_interpolacion">Interpolacion</h3>
<div class="paragraph">
<p>El prefijo <strong>s</strong> aplicado a los <strong>String</strong>, permite parametrizar dicho <strong>String</strong> con variables del ambito de Scala.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val nombre = &quot;Victor&quot;
println(s&quot;Hola, $nombre&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tambien permite procesar expresiones escritas en Scala</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val nombre = &quot;Victor&quot;
val apellido = &quot;Herrero&quot;
println(s&quot;Hola ${nombre concat &quot; &quot; concat apellido}&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tambien se proporciona el pefijo <strong>f</strong> que además de lo que hace <strong>s</strong>, permite formatear como se representa la información, las expresiones de formateo, son las misma que en java, se pueden consultar <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Formatter.html#detail">aquí</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val nombre = &quot;Victor&quot;
val altura = 1.85d
println(f&quot;$nombre%s mide $altura%2.2f metros&quot;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tambien se propoprciona <strong>raw</strong>, que no interpreta las secuencias de escape como <strong>\n</strong> o <strong>\t</strong> ni reglas de formateo.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val nombre = &quot;Victor&quot;
val apellido = &quot;Herrero&quot;
val altura = 1.85d
println(f&quot;La persona con nombre:\t$nombre%s y apellidos:\t$apellido%s\nmide $altura%2.2f metros de altura&quot;)
println(raw&quot;La persona con nombre:\t$nombre%s y apellidos:\t$apellido%s\nmide $altura%2.2f metros de altura&quot;)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_extractores">Extractores</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Son <strong>Objectos</strong> de Scala que implementan los métodos <strong>apply</strong> y <strong>unapply</strong>, de forma analoga a como lo hacen las clases case, pero sin serlo.</p>
</div>
<div class="paragraph">
<p>Son empleados junto con el <strong>Pattern Mattching</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">object Twice {
  def apply(x: Int): Int = x * 2
  def unapply(z: Int): Option[Int] = if (z%2 == 0) Some(z/2) else None
}
object TwiceTest extends App {
        val x = Twice(21) //Aplica apply
        println(x) //x = 42
        x match {
                case Twice(n) =&gt; { //Aplica unapply
                        println(n) //n = 21
                }
        }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resumen_programacion_funcional">Resumen Programacion Funcional</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En programacion funcional</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>lambda</strong> es equivalente a <strong>funcion</strong>.</p>
</li>
<li>
<p>Las variables son inmutables (final)</p>
</li>
<li>
<p>Las funciones no pueden modificar o verse afectadas por un estado global, por lo que se puede paralelizar la ejecución de las sentencias.</p>
</li>
<li>
<p><strong>currying</strong>, patrón basado en el patrón adaptador. Permite definir una nueva función que adapta el uso de otra funcion existente, es decir dada un funcion que presenta una interface (datos de entrada y datos de salida), la adapta a los requerimientos representados por otra funcion con una nueva interface(datos de entrada y datos de salida)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>En muchos casos el <strong>curriying</strong> lleva a que en una determinada funcion que acepta <strong>n</strong> parametros de entrada algunos de ellos son constantes, y al adaptarla, se define una nueva funcion que absorbe dichas constantes</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">def elCuadradoDe(i : Int) : Int = {
        scala.math.pow(i,3)
}

elCuadradoDe 1;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si aplicamos la caracteristica de <strong>Scala</strong> de <strong>Invocacion Parcial</strong>, simplificariamos la anterior expresion</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">var elCuadradoDe = scala.math.pow(_: Double, 2.toDouble)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Donde estamos dejando abierto el valor del primer parametro, pero cerrando el del segundo a <strong>2</strong></p>
</div>
<div class="paragraph">
<p><strong>Scala</strong> permite la definicion <strong>currying</strong> de otra forma</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">def exponencial(x: Double) = (y: Double) =&gt; scala.math.pow(x, y)</code></pre>
</div>
</div>
<div class="paragraph">
<p>En este caso lo que vemos es que la primera funcion, que acepta un parametro <strong>x</strong>, retorna otra funcion que acepta un parametro <strong>y</strong>, la cual no se podra invocar hasta que se proporcione dicho parametro.</p>
</div>
<div class="paragraph">
<p>La invocacion se puede hacer por pasos</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">var funcionParcial = exponencial(7)
funcionParcial(2)</code></pre>
</div>
</div>
<div class="paragraph">
<p>O directamente, que quedaria mas legible</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">exponencial(7)(2)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Funcion De Orden Superior</strong> &#8594; Aquellas funciones que reciben por parametros otras funciones para invocarlas internamente</p>
</li>
<li>
<p><strong>Closures</strong> &#8594; Función que puede interaccionar no solo con las variables de su ambito, sino con las de otro ambito, sucede al emplear <strong>funciones de orden superior</strong>, donde la funcion recibida, que es ejecutada desde la <strong>funcion de orden superior</strong>, puede tener acceso a variables de un ambito distinto a la <strong>funcion de orden superior</strong></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">object Aplicacion extends App {
  Ambito2.funcionDeOrdenSuperior(Ambito1.sayHello, &quot;Pedro&quot;)
}

object Ambito1 {
  //Se define una variable
  private var hello = &quot;Hello&quot;

  //Se define un metodo, que usa la anterior variable
  def sayHello(name: String) { println(s&quot;$hello, $name&quot;) }
}

object Ambito2 {
  def funcionDeOrdenSuperior(f: (String) =&gt; Unit, name: String) {
    f(name)
  }
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Pattern Matching</strong> &#8594; Reconocimiento de patrones, que permite identificar un dato por el cumplimiento de una condicion. Se basa en los <strong>Case</strong></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">x match {
        // constantes
        case 0 =&gt; &quot;zero&quot;
        case true =&gt; &quot;true&quot;
        case &quot;hello&quot; =&gt; &quot;you said 'hello'&quot;
        case Nil =&gt; &quot;an empty List&quot;

        // secuencias
        case List(0, _, _) =&gt; &quot;a three-element list with 0 as the first element&quot;
        case List(1, _*) =&gt; &quot;a list beginning with 1, having any number of elements&quot;
        case Vector(1, _*) =&gt; &quot;a vector starting with 1, having any number of elements&quot;

        // tuplas
        case (a, b) =&gt; s&quot;got $a and $b&quot;
        case (a, b, c) =&gt; s&quot;got $a, $b, and $c&quot;

        // patrones de construccion
        case Person(first, &quot;Alexander&quot;) =&gt; s&quot;found an Alexander, first name = $first&quot;
        case Dog(&quot;Suka&quot;) =&gt; &quot;found a dog named Suka&quot;

        // patrones tipados
        case s: String =&gt; s&quot;you gave me this string: $s&quot;
        case i: Int =&gt; s&quot;thanks for the int: $i&quot;
        case f: Float =&gt; s&quot;thanks for the float: $f&quot;
        case a: Array[Int] =&gt; s&quot;an array of int: ${a.mkString(&quot;,&quot;)}&quot;
        case as: Array[String] =&gt; s&quot;an array of strings: ${as.mkString(&quot;,&quot;)}&quot;
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Evaluación tardia</strong> &#8594; ejecucion del codigo solo cuando es necesario, no hay garatia del orden, e incluso alguna sentencia puede que nunca se llegue a ejecutar, porque su ejecución dependia del empleo de la variable asociada, que no fue empleada por que no se cumplio una condición.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Se traduce en variables <strong>lazy</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">lazy val perezosa = &quot;perezosa&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>O en colecciones perezosas <strong>Stream</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>concurrencia</strong> &#8594; Dado que el resultado de la ejecucion de una funcion no depende del entorno, se pueden emplear las funciones de forma concurrente, dado que ninguna operacion que haga un hilo, dejara rastro que afecte a otro hilo.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Se traduce en <strong>Futuros</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">val f: Future[List[Int]] = Future {
        tareaDeLargaDuracion
}

f onComplete {
        case Success(list) =&gt; print(list)
        case Failure(e)    =&gt; println(e.getMessage)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Y <strong>Actores</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">class HelloActor extends Actor {
  def receive = {
    case &quot;hello&quot; =&gt; println(&quot;hello back at you&quot;)
    case &quot;exception&quot; =&gt; throw new Exception
    case _       =&gt; println(&quot;huh?&quot;)
  }
}

object Simple extends App {
  val system = ActorSystem(&quot;HelloSystem&quot;)
  val helloActor = system.actorOf(Props[HelloActor], name = &quot;helloactor&quot;)
  helloActor ! &quot;hello&quot;
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Recursividad</strong> &#8594; Invocacion de una funcion desde ella misma, camiando los parametros de entrada para evitar bucles infinitos.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="scala">def sum(xs: List[Int]): Int = {
        if (xs.isEmpty) 0
        else xs.head + sum(xs.tail)
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-04-24 04:28:25 PDT
</div>
</div>
</body>
</html>